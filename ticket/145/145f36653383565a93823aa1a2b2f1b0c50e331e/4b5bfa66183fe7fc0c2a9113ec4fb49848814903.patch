Index: samples/regtest/regtest.cpp
===================================================================
RCS file: /pack/cvsroots/wxwindows/wxWindows/samples/regtest/regtest.cpp,v
retrieving revision 1.16
diff -u -r1.16 regtest.cpp
--- samples/regtest/regtest.cpp	2003/10/23 21:38:25	1.16
+++ samples/regtest/regtest.cpp	2003/10/24 11:36:14
@@ -39,7 +39,7 @@
 class RegApp : public wxApp
 {
 public:
-  bool OnInit();
+    bool OnInit();
 };
 
 // ----------------------------------------------------------------------------
@@ -48,16 +48,16 @@
 class RegImageList : public wxImageList
 {
 public:
-  enum Icon
-  {
-    Root,
-    ClosedKey,
-    OpenedKey,
-    TextValue,
-    BinaryValue,
-  };
+    enum Icon
+    {
+        Root,
+        ClosedKey,
+        OpenedKey,
+        TextValue,
+        BinaryValue,
+    };
 
-  RegImageList();
+    RegImageList();
 };
 
 // ----------------------------------------------------------------------------
@@ -66,103 +66,110 @@
 class RegTreeCtrl : public wxTreeCtrl
 {
 public:
-  // ctor & dtor
-  RegTreeCtrl(wxWindow *parent, wxWindowID id);
-  virtual ~RegTreeCtrl();
-
-  // notifications
-  void OnDeleteItem   (wxTreeEvent& event);
-  void OnItemExpanding(wxTreeEvent& event);
-  void OnSelChanged   (wxTreeEvent& event);
-
-  void OnBeginEdit    (wxTreeEvent& event);
-  void OnEndEdit      (wxTreeEvent& event);
-
-  void OnBeginDrag    (wxTreeEvent& event);
-  void OnEndDrag      (wxTreeEvent& event);
-
-  void OnRightClick   (wxMouseEvent& event);
-  void OnChar         (wxKeyEvent& event);
-  void OnIdle         (wxIdleEvent& event);
-
-  // forwarded notifications (by the frame)
-  void OnMenuTest();
-
-  // operations
-  void GoTo(const wxString& location);
-  void Refresh();
-  void DeleteSelected();
-  void ShowProperties();
-  void CreateNewKey(const wxString& strName);
-  void CreateNewTextValue(const wxString& strName);
-  void CreateNewBinaryValue(const wxString& strName);
+    // ctor & dtor
+    RegTreeCtrl(wxWindow *parent, wxWindowID id);
+    virtual ~RegTreeCtrl();
+
+    // notifications
+    void OnDeleteItem   (wxTreeEvent& event);
+    void OnItemExpanding(wxTreeEvent& event);
+    void OnSelChanged   (wxTreeEvent& event);
+
+    void OnBeginEdit    (wxTreeEvent& event);
+    void OnEndEdit      (wxTreeEvent& event);
+
+    void OnBeginDrag    (wxTreeEvent& event);
+    void OnEndDrag      (wxTreeEvent& event);
+
+    void OnRightClick   (wxMouseEvent& event);
+    void OnChar         (wxKeyEvent& event);
+    void OnIdle         (wxIdleEvent& event);
+
+    // forwarded notifications (by the frame)
+    void OnMenuTest();
+
+    // operations
+    void GoTo(const wxString& location);
+    void Refresh();
+    void DeleteSelected();
+    void ShowProperties();
+    void CreateNewKey(const wxString& strName);
+    void CreateNewTextValue(const wxString& strName);
+    void CreateNewBinaryValue(const wxString& strName);
 
-  // information
-  bool IsKeySelected() const;
+    // information
+    bool IsKeySelected() const;
 
 private:
-  // structure describing a registry key/value
-  class TreeNode : public wxTreeItemData
-  {
-  WX_DEFINE_ARRAY_PTR(TreeNode *, TreeChildren);
-  public:
-      RegTreeCtrl  *m_pTree;     // must be !NULL
-      TreeNode     *m_pParent;    // NULL only for the root node
-      long          m_id;         // the id of the tree control item
-      wxString      m_strName;    // name of the key/value
-      TreeChildren  m_aChildren;  // array of subkeys/values
-      bool          m_bKey;       // key or value?
-      wxRegKey     *m_pKey;       // only may be !NULL if m_bKey == true
-
-      // trivial accessors
-      long      Id()     const { return m_id;              }
-      bool      IsRoot() const { return m_pParent == NULL; }
-      bool      IsKey()  const { return m_bKey;            }
-      TreeNode *Parent() const { return m_pParent;         }
-
-      // notifications
-      bool OnExpand();
-      void OnCollapse();
-
-      // operations
-      void Refresh();
-      bool DeleteChild(TreeNode *child);
-      void DestroyChildren();
-      const wxChar *FullName() const;
-
-      // get the associated key: make sure the pointer is !NULL
-      wxRegKey& Key() { if ( !m_pKey ) OnExpand(); return *m_pKey; }
-
-      // dtor deletes all children
-      ~TreeNode();
-  };
-
-  wxImageList *m_imageList;
-  wxMenu      *m_pMenuPopup;
-
-  TreeNode    *m_pRoot;
-
-  TreeNode    *m_draggedItem;       // the item being dragged
-  bool         m_copyOnDrop;        // if FALSE, then move
+    // structure describing a registry key/value
+    class TreeNode : public wxTreeItemData
+    {
+        WX_DEFINE_ARRAY_PTR(TreeNode *, TreeChildren);
+    public:
+        RegTreeCtrl  *m_pTree;     // must be !NULL
+        TreeNode     *m_pParent;    // NULL only for the root node
+        long          m_id;         // the id of the tree control item
+        wxString      m_strName;    // name of the key/value
+        TreeChildren  m_aChildren;  // array of subkeys/values
+        bool          m_bKey;       // key or value?
+        wxRegKey     *m_pKey;       // only may be !NULL if m_bKey == true
+
+        // trivial accessors
+        long      Id()     const { return m_id;              }
+        bool      IsRoot() const { return m_pParent == NULL; }
+        bool      IsKey()  const { return m_bKey;            }
+        TreeNode *Parent() const { return m_pParent;         }
+
+        // notifications
+        bool OnExpand();
+        void OnCollapse();
+
+        // operations
+        void Refresh();
+        bool DeleteChild(TreeNode *child);
+        void DestroyChildren();
+        const wxChar *FullName() const;
+
+        // get the associated key: make sure the pointer is !NULL
+        wxRegKey& Key()
+        {
+            if ( !m_pKey )
+                OnExpand();
+
+            return *m_pKey;
+        }
 
-  bool         m_restoreStatus;     // after OnItemExpanding()
+        // dtor deletes all children
+        ~TreeNode();
+    };
 
-  wxString     m_nameOld;           // the initial value of item being renamed
+    wxImageList *m_imageList;
+    wxMenu      *m_pMenuPopup;
 
-  TreeNode *GetNode(const wxTreeEvent& event)
-    { return (TreeNode *)GetItemData((WXHTREEITEM)event.GetItem()); }
+    TreeNode    *m_pRoot;
 
+    TreeNode    *m_draggedItem;       // the item being dragged
+    bool         m_copyOnDrop;        // if false, then move
+
+    bool         m_restoreStatus;     // after OnItemExpanding()
+
+    wxString     m_nameOld;           // the initial value of item being renamed
+
+    TreeNode *GetNode(const wxTreeEvent& event)
+        { return (TreeNode *)GetItemData((WXHTREEITEM)event.GetItem()); }
+
 public:
-  // create a new node and insert it to the tree
-  TreeNode *InsertNewTreeNode(TreeNode *pParent,
-                              const wxString& strName,
-                              int idImage = RegImageList::ClosedKey,
-                              const wxString *pstrValue = NULL);
-  // add standard registry keys
-  void AddStdKeys();
+    // create a new node and insert it to the tree
+    TreeNode *InsertNewTreeNode(TreeNode *pParent,
+        const wxString& strName,
+        int idImage = RegImageList::ClosedKey,
+        const wxString *pstrValue = NULL);
+
+    // add standard registry keys
+    void AddStdKeys();
 
 private:
-  DECLARE_EVENT_TABLE()
+    DECLARE_EVENT_TABLE()
 };
 
 // ----------------------------------------------------------------------------
@@ -171,33 +178,33 @@
 class RegFrame : public wxFrame
 {
 public:
-  // ctor & dtor
-  RegFrame(wxFrame *parent, wxChar *title, int x, int y, int w, int h);
-  virtual ~RegFrame();
-
-  // callbacks
-  void OnQuit (wxCommandEvent& event);
-  void OnAbout(wxCommandEvent& event);
-  void OnTest (wxCommandEvent& event);
-
-  void OnGoTo (wxCommandEvent& event);
-
-  void OnExpand  (wxCommandEvent& event);
-  void OnCollapse(wxCommandEvent& event);
-  void OnToggle  (wxCommandEvent& event);
-  void OnRefresh (wxCommandEvent& event);
-
-  void OnDelete   (wxCommandEvent& event);
-  void OnNewKey   (wxCommandEvent& event);
-  void OnNewText  (wxCommandEvent& event);
-  void OnNewBinary(wxCommandEvent& event);
+    // ctor & dtor
+    RegFrame(wxFrame *parent, wxChar *title, int x, int y, int w, int h);
+    virtual ~RegFrame();
+
+    // callbacks
+    void OnQuit (wxCommandEvent& event);
+    void OnAbout(wxCommandEvent& event);
+    void OnTest (wxCommandEvent& event);
+
+    void OnGoTo (wxCommandEvent& event);
+
+    void OnExpand  (wxCommandEvent& event);
+    void OnCollapse(wxCommandEvent& event);
+    void OnToggle  (wxCommandEvent& event);
+    void OnRefresh (wxCommandEvent& event);
+
+    void OnDelete   (wxCommandEvent& event);
+    void OnNewKey   (wxCommandEvent& event);
+    void OnNewText  (wxCommandEvent& event);
+    void OnNewBinary(wxCommandEvent& event);
 
-  void OnInfo     (wxCommandEvent& event);
+    void OnInfo     (wxCommandEvent& event);
 
-  DECLARE_EVENT_TABLE()
+    DECLARE_EVENT_TABLE()
 
 private:
-  RegTreeCtrl *m_treeCtrl;
+    RegTreeCtrl *m_treeCtrl;
 };
 
 // ----------------------------------------------------------------------------
@@ -206,22 +213,22 @@
 
 enum
 {
-  Menu_Quit     = 100,
-  Menu_About,
-  Menu_Test,
-  Menu_GoTo,
-  Menu_Expand,
-  Menu_Collapse,
-  Menu_Toggle,
-  Menu_Refresh,
-  Menu_New,
-  Menu_NewKey,
-  Menu_NewText,
-  Menu_NewBinary,
-  Menu_Delete,
-  Menu_Info,
+    Menu_Quit     = 100,
+    Menu_About,
+    Menu_Test,
+    Menu_GoTo,
+    Menu_Expand,
+    Menu_Collapse,
+    Menu_Toggle,
+    Menu_Refresh,
+    Menu_New,
+    Menu_NewKey,
+    Menu_NewText,
+    Menu_NewBinary,
+    Menu_Delete,
+    Menu_Info,
 
-  Ctrl_RegTree  = 200,
+    Ctrl_RegTree  = 200
 };
 
 // ----------------------------------------------------------------------------
@@ -229,36 +236,36 @@
 // ----------------------------------------------------------------------------
 
 BEGIN_EVENT_TABLE(RegFrame, wxFrame)
-  EVT_MENU(Menu_Test,     RegFrame::OnTest)
-  EVT_MENU(Menu_About,    RegFrame::OnAbout)
-  EVT_MENU(Menu_Quit,     RegFrame::OnQuit)
-  EVT_MENU(Menu_GoTo,     RegFrame::OnGoTo)
-  EVT_MENU(Menu_Expand,   RegFrame::OnExpand)
-  EVT_MENU(Menu_Collapse, RegFrame::OnCollapse)
-  EVT_MENU(Menu_Toggle,   RegFrame::OnToggle)
-  EVT_MENU(Menu_Refresh,  RegFrame::OnRefresh)
-  EVT_MENU(Menu_Delete,   RegFrame::OnDelete)
-  EVT_MENU(Menu_NewKey,   RegFrame::OnNewKey)
-  EVT_MENU(Menu_NewText,  RegFrame::OnNewText)
-  EVT_MENU(Menu_NewBinary,RegFrame::OnNewBinary)
-  EVT_MENU(Menu_Info,     RegFrame::OnInfo)
+    EVT_MENU(Menu_Test,     RegFrame::OnTest)
+    EVT_MENU(Menu_About,    RegFrame::OnAbout)
+    EVT_MENU(Menu_Quit,     RegFrame::OnQuit)
+    EVT_MENU(Menu_GoTo,     RegFrame::OnGoTo)
+    EVT_MENU(Menu_Expand,   RegFrame::OnExpand)
+    EVT_MENU(Menu_Collapse, RegFrame::OnCollapse)
+    EVT_MENU(Menu_Toggle,   RegFrame::OnToggle)
+    EVT_MENU(Menu_Refresh,  RegFrame::OnRefresh)
+    EVT_MENU(Menu_Delete,   RegFrame::OnDelete)
+    EVT_MENU(Menu_NewKey,   RegFrame::OnNewKey)
+    EVT_MENU(Menu_NewText,  RegFrame::OnNewText)
+    EVT_MENU(Menu_NewBinary,RegFrame::OnNewBinary)
+    EVT_MENU(Menu_Info,     RegFrame::OnInfo)
 END_EVENT_TABLE()
 
 BEGIN_EVENT_TABLE(RegTreeCtrl, wxTreeCtrl)
-  EVT_TREE_DELETE_ITEM   (Ctrl_RegTree, RegTreeCtrl::OnDeleteItem)
-  EVT_TREE_ITEM_EXPANDING(Ctrl_RegTree, RegTreeCtrl::OnItemExpanding)
-  EVT_TREE_SEL_CHANGED   (Ctrl_RegTree, RegTreeCtrl::OnSelChanged)
-
-  EVT_TREE_BEGIN_LABEL_EDIT(Ctrl_RegTree, RegTreeCtrl::OnBeginEdit)
-  EVT_TREE_END_LABEL_EDIT  (Ctrl_RegTree, RegTreeCtrl::OnEndEdit)
-
-  EVT_TREE_BEGIN_DRAG    (Ctrl_RegTree, RegTreeCtrl::OnBeginDrag)
-  EVT_TREE_BEGIN_RDRAG   (Ctrl_RegTree, RegTreeCtrl::OnBeginDrag)
-  EVT_TREE_END_DRAG      (Ctrl_RegTree, RegTreeCtrl::OnEndDrag)
-
-  EVT_CHAR      (RegTreeCtrl::OnChar)
-  EVT_RIGHT_DOWN(RegTreeCtrl::OnRightClick)
-  EVT_IDLE      (RegTreeCtrl::OnIdle)
+    EVT_TREE_DELETE_ITEM   (Ctrl_RegTree, RegTreeCtrl::OnDeleteItem)
+    EVT_TREE_ITEM_EXPANDING(Ctrl_RegTree, RegTreeCtrl::OnItemExpanding)
+    EVT_TREE_SEL_CHANGED   (Ctrl_RegTree, RegTreeCtrl::OnSelChanged)
+
+    EVT_TREE_BEGIN_LABEL_EDIT(Ctrl_RegTree, RegTreeCtrl::OnBeginEdit)
+    EVT_TREE_END_LABEL_EDIT  (Ctrl_RegTree, RegTreeCtrl::OnEndEdit)
+
+    EVT_TREE_BEGIN_DRAG    (Ctrl_RegTree, RegTreeCtrl::OnBeginDrag)
+    EVT_TREE_BEGIN_RDRAG   (Ctrl_RegTree, RegTreeCtrl::OnBeginDrag)
+    EVT_TREE_END_DRAG      (Ctrl_RegTree, RegTreeCtrl::OnEndDrag)
+
+    EVT_CHAR      (RegTreeCtrl::OnChar)
+    EVT_RIGHT_DOWN(RegTreeCtrl::OnRightClick)
+    EVT_IDLE      (RegTreeCtrl::OnIdle)
 END_EVENT_TABLE()
 
 // ============================================================================
@@ -272,26 +279,26 @@
 // create the "registry operations" menu
 wxMenu *CreateRegistryMenu()
 {
-  wxMenu *pMenuNew = new wxMenu;
-  pMenuNew->Append(Menu_NewKey,    _T("&Key"),          _T("Create a new key"));
-  pMenuNew->AppendSeparator();
-  pMenuNew->Append(Menu_NewText,   _T("&Text value"),   _T("Create a new text value"));
-  pMenuNew->Append(Menu_NewBinary, _T("&Binary value"), _T("Create a new binary value"));
-
-  wxMenu *pMenuReg = new wxMenu;
-  pMenuReg->Append(Menu_New, _T("&New"), pMenuNew);
-  pMenuReg->Append(Menu_Delete,   _T("&Delete..."), _T("Delete selected key/value"));
-  pMenuReg->AppendSeparator();
-  pMenuReg->Append(Menu_GoTo,     _T("&Go to...\tCtrl-G"),    _T("Go to registry key"));
-  pMenuReg->Append(Menu_Expand,   _T("&Expand"),    _T("Expand current key"));
-  pMenuReg->Append(Menu_Collapse, _T("&Collapse"),  _T("Collapse current key"));
-  pMenuReg->Append(Menu_Toggle,   _T("&Toggle"),    _T("Toggle current key"));
-  pMenuReg->AppendSeparator();
-  pMenuReg->Append(Menu_Refresh,  _T("&Refresh"),   _T("Refresh the subtree"));
-  pMenuReg->AppendSeparator();
-  pMenuReg->Append(Menu_Info,     _T("&Properties"),_T("Information about current selection"));
+    wxMenu *pMenuNew = new wxMenu;
+    pMenuNew->Append(Menu_NewKey,    _T("&Key"),          _T("Create a new key"));
+    pMenuNew->AppendSeparator();
+    pMenuNew->Append(Menu_NewText,   _T("&Text value"),   _T("Create a new text value"));
+    pMenuNew->Append(Menu_NewBinary, _T("&Binary value"), _T("Create a new binary value"));
+
+    wxMenu *pMenuReg = new wxMenu;
+    pMenuReg->Append(Menu_New, _T("&New"), pMenuNew);
+    pMenuReg->Append(Menu_Delete,   _T("&Delete..."), _T("Delete selected key/value"));
+    pMenuReg->AppendSeparator();
+    pMenuReg->Append(Menu_GoTo,     _T("&Go to...\tCtrl-G"),    _T("Go to registry key"));
+    pMenuReg->Append(Menu_Expand,   _T("&Expand"),    _T("Expand current key"));
+    pMenuReg->Append(Menu_Collapse, _T("&Collapse"),  _T("Collapse current key"));
+    pMenuReg->Append(Menu_Toggle,   _T("&Toggle"),    _T("Toggle current key"));
+    pMenuReg->AppendSeparator();
+    pMenuReg->Append(Menu_Refresh,  _T("&Refresh"),   _T("Refresh the subtree"));
+    pMenuReg->AppendSeparator();
+    pMenuReg->Append(Menu_Info,     _T("&Properties"),_T("Information about current selection"));
 
-  return pMenuReg;
+    return pMenuReg;
 }
 
 // ----------------------------------------------------------------------------
@@ -302,13 +309,13 @@
 // `Main program' equivalent, creating windows and returning main app frame
 bool RegApp::OnInit()
 {
-  // create the main frame window and show it
-  RegFrame *frame = new RegFrame(NULL, _T("wxRegTest"), 50, 50, 600, 350);
-  frame->Show(TRUE);
+    // create the main frame window and show it
+    RegFrame *frame = new RegFrame(NULL, _T("wxRegTest"), 50, 50, 600, 350);
+    frame->Show(true);
 
-  SetTopWindow(frame);
+    SetTopWindow(frame);
 
-  return TRUE;
+    return true;
 }
 
 // ----------------------------------------------------------------------------
@@ -316,62 +323,62 @@
 // ----------------------------------------------------------------------------
 
 RegFrame::RegFrame(wxFrame *parent, wxChar *title, int x, int y, int w, int h)
-        : wxFrame(parent, -1, title, wxPoint(x, y), wxSize(w, h))
+    : wxFrame(parent, wxID_ANY, title, wxPoint(x, y), wxSize(w, h))
 {
-  // this reduces flicker effects
-  SetBackgroundColour(wxColour(255, 255, 255));
+    // this reduces flicker effects
+    SetBackgroundColour(wxColour(255, 255, 255));
 
-  // set the icon
-  // ------------
-  SetIcon(wxIcon(_T("app_icon")));
-
-  // create menu
-  // -----------
-  wxMenu *pMenuFile = new wxMenu;
-  pMenuFile->Append(Menu_Test, _T("Te&st"), _T("Test key creation"));
-  pMenuFile->AppendSeparator();
-  pMenuFile->Append(Menu_About, _T("&About..."), _T("Show an extraordinarly beautiful dialog"));
-  pMenuFile->AppendSeparator();
-  pMenuFile->Append(Menu_Quit,  _T("E&xit"), _T("Quit this program"));
-
-  wxMenuBar *pMenu = new wxMenuBar;
-  pMenu->Append(pMenuFile, _T("&File"));
-  pMenu->Append(CreateRegistryMenu(),  _T("&Registry"));
-  SetMenuBar(pMenu);
-
-  // create child controls
-  // ---------------------
-  m_treeCtrl = new RegTreeCtrl(this, Ctrl_RegTree);
-
-  // create the status line
-  // ----------------------
-  CreateStatusBar(2);
+    // set the icon
+    // ------------
+    SetIcon(wxIcon(_T("app_icon")));
+
+    // create menu
+    // -----------
+    wxMenu *pMenuFile = new wxMenu;
+    pMenuFile->Append(Menu_Test, _T("Te&st"), _T("Test key creation"));
+    pMenuFile->AppendSeparator();
+    pMenuFile->Append(Menu_About, _T("&About..."), _T("Show an extraordinarly beautiful dialog"));
+    pMenuFile->AppendSeparator();
+    pMenuFile->Append(Menu_Quit,  _T("E&xit"), _T("Quit this program"));
+
+    wxMenuBar *pMenu = new wxMenuBar;
+    pMenu->Append(pMenuFile, _T("&File"));
+    pMenu->Append(CreateRegistryMenu(),  _T("&Registry"));
+    SetMenuBar(pMenu);
+
+    // create child controls
+    // ---------------------
+    m_treeCtrl = new RegTreeCtrl(this, Ctrl_RegTree);
+
+    // create the status line
+    // ----------------------
+    CreateStatusBar(2);
 }
 
 RegFrame::~RegFrame()
 {
-  // this makes deletion of it *much* quicker
-  m_treeCtrl->Hide();
+    // this makes deletion of it *much* quicker
+    m_treeCtrl->Hide();
 }
 
-void RegFrame::OnQuit(wxCommandEvent& event)
+void RegFrame::OnQuit(wxCommandEvent& WXUNUSED(event))
 {
-  Close(TRUE);
+    Close(true);
 }
 
-void RegFrame::OnAbout(wxCommandEvent& event)
+void RegFrame::OnAbout(wxCommandEvent& WXUNUSED(event))
 {
-  wxMessageDialog dialog(this,
-                         _T("wxRegistry sample\n")
-                         _T("© 1998, 2000 Vadim Zeitlin"),
-                         _T("About wxRegTest"), wxOK);
+    wxMessageDialog dialog(this,
+        _T("wxRegistry sample\n")
+        _T("© 1998, 2000 Vadim Zeitlin"),
+        _T("About wxRegTest"), wxOK);
 
-  dialog.ShowModal();
+    dialog.ShowModal();
 }
 
 void RegFrame::OnTest(wxCommandEvent& WXUNUSED(event))
 {
-  m_treeCtrl->OnMenuTest();
+    m_treeCtrl->OnMenuTest();
 }
 
 void RegFrame::OnGoTo(wxCommandEvent& WXUNUSED(event))
@@ -394,51 +401,54 @@
 
 void RegFrame::OnExpand(wxCommandEvent& WXUNUSED(event))
 {
-  m_treeCtrl->ExpandItem(m_treeCtrl->GetSelection(), wxTREE_EXPAND_EXPAND);
+    m_treeCtrl->ExpandItem(m_treeCtrl->GetSelection(), wxTREE_EXPAND_EXPAND);
 }
 
 void RegFrame::OnCollapse(wxCommandEvent& WXUNUSED(event))
 {
-  m_treeCtrl->ExpandItem(m_treeCtrl->GetSelection(), wxTREE_EXPAND_COLLAPSE);
+    m_treeCtrl->ExpandItem(m_treeCtrl->GetSelection(), wxTREE_EXPAND_COLLAPSE);
 }
 
 void RegFrame::OnToggle(wxCommandEvent& WXUNUSED(event))
 {
-  m_treeCtrl->ExpandItem(m_treeCtrl->GetSelection(), wxTREE_EXPAND_TOGGLE);
+    m_treeCtrl->ExpandItem(m_treeCtrl->GetSelection(), wxTREE_EXPAND_TOGGLE);
 }
 
 void RegFrame::OnRefresh(wxCommandEvent& WXUNUSED(event))
 {
-  m_treeCtrl->Refresh();
+    m_treeCtrl->Refresh();
 }
 
 void RegFrame::OnDelete(wxCommandEvent& WXUNUSED(event))
 {
-  m_treeCtrl->DeleteSelected();
+    m_treeCtrl->DeleteSelected();
 }
 
 void RegFrame::OnNewKey(wxCommandEvent& WXUNUSED(event))
 {
-  if ( m_treeCtrl->IsKeySelected() ) {
-    m_treeCtrl->CreateNewKey(
-      wxGetTextFromUser(_T("Enter the name of the new key")));
-  }
+    if ( m_treeCtrl->IsKeySelected() )
+    {
+        m_treeCtrl->CreateNewKey(
+            wxGetTextFromUser(_T("Enter the name of the new key")) );
+    }
 }
 
 void RegFrame::OnNewText(wxCommandEvent& WXUNUSED(event))
 {
-  if ( m_treeCtrl->IsKeySelected() ) {
-    m_treeCtrl->CreateNewTextValue(
-      wxGetTextFromUser(_T("Enter the name for the new text value")));
-  }
+    if ( m_treeCtrl->IsKeySelected() )
+    {
+        m_treeCtrl->CreateNewTextValue(
+            wxGetTextFromUser(_T("Enter the name for the new text value")) );
+    }
 }
 
 void RegFrame::OnNewBinary(wxCommandEvent& WXUNUSED(event))
 {
-  if ( m_treeCtrl->IsKeySelected() ) {
-    m_treeCtrl->CreateNewBinaryValue(
-      wxGetTextFromUser(_T("Enter the name for the new binary value")));
-  }
+    if ( m_treeCtrl->IsKeySelected() )
+    {
+        m_treeCtrl->CreateNewBinaryValue(
+            wxGetTextFromUser(_T("Enter the name for the new binary value")) );
+    }
 }
 
 void RegFrame::OnInfo(wxCommandEvent& WXUNUSED(event))
@@ -449,14 +459,17 @@
 // ----------------------------------------------------------------------------
 // RegImageList
 // ----------------------------------------------------------------------------
-RegImageList::RegImageList() : wxImageList(16, 16, TRUE)
+RegImageList::RegImageList() : wxImageList(16, 16, true)
 {
-  // should be in sync with enum RegImageList::RegIcon
-  static const wxChar *aszIcons[] = { _T("key1"),_T("key2"),_T("key3"),_T("value1"),_T("value2") };
-  wxString str = _T("icon_");
-  for ( unsigned int n = 0; n < WXSIZEOF(aszIcons); n++ ) {
-    Add(wxIcon(str + aszIcons[n], wxBITMAP_TYPE_ICO_RESOURCE));
-  }
+    // should be in sync with enum RegImageList::RegIcon
+    static const wxChar *aszIcons[] = { _T("key1"), _T("key2"),
+        _T("key3"), _T("value1"), _T("value2") };
+
+    wxString str = _T("icon_");
+    for ( unsigned int n = 0; n < WXSIZEOF(aszIcons); n++ )
+    {
+        Add(wxIcon(str + aszIcons[n], wxBITMAP_TYPE_ICO_RESOURCE));
+    }
 }
 
 // ----------------------------------------------------------------------------
@@ -465,79 +478,83 @@
 
 // create a new tree item and insert it into the tree
 RegTreeCtrl::TreeNode *RegTreeCtrl::InsertNewTreeNode(TreeNode *pParent,
-                                                      const wxString& strName,
-                                                      int idImage,
-                                                      const wxString *pstrValue)
-{
-  // create new item & insert it
-  TreeNode *pNewNode = new TreeNode;
-  pNewNode->m_pTree  = this;
-  pNewNode->m_pParent = pParent;
-  pNewNode->m_strName = strName;
-  pNewNode->m_bKey    = pstrValue == NULL;
-  pNewNode->m_pKey    = NULL;
-  pNewNode->m_id      = InsertItem(pParent ? pParent->Id() : 0,
-                                   pNewNode->IsKey() ? strName : *pstrValue,
-                                   idImage);
-
-  wxASSERT_MSG( pNewNode->m_id, wxT("can't create tree control item!"));
-
-  // save the pointer in the item
-  SetItemData(pNewNode->m_id, pNewNode);
-
-  // add it to the list of parent's children
-  if ( pParent != NULL ) {
-    pParent->m_aChildren.Add(pNewNode);
-  }
-
-  if ( pNewNode->IsKey() ) {
-    SetItemHasChildren(pNewNode->Id());
-
-    if ( !pNewNode->IsRoot() ) {
-        // set the expanded icon as well
-        SetItemImage(pNewNode->Id(),
-                     RegImageList::OpenedKey,
-                     wxTreeItemIcon_Expanded);
+    const wxString& strName,
+    int idImage,
+    const wxString *pstrValue)
+{
+    // create new item & insert it
+    TreeNode *pNewNode = new TreeNode;
+    pNewNode->m_pTree  = this;
+    pNewNode->m_pParent = pParent;
+    pNewNode->m_strName = strName;
+    pNewNode->m_bKey    = pstrValue == NULL;
+    pNewNode->m_pKey    = NULL;
+    pNewNode->m_id      = InsertItem(pParent ? pParent->Id() : 0,
+        pNewNode->IsKey() ? strName : *pstrValue,
+        idImage);
+
+    wxASSERT_MSG( pNewNode->m_id, wxT("can't create tree control item!"));
+
+    // save the pointer in the item
+    SetItemData(pNewNode->m_id, pNewNode);
+
+    // add it to the list of parent's children
+    if ( pParent != NULL )
+    {
+        pParent->m_aChildren.Add(pNewNode);
     }
-  }
+
+    if ( pNewNode->IsKey() )
+    {
+        SetItemHasChildren(pNewNode->Id());
 
-  return pNewNode;
+        if ( !pNewNode->IsRoot() )
+        {
+            // set the expanded icon as well
+            SetItemImage(pNewNode->Id(),
+                RegImageList::OpenedKey,
+                wxTreeItemIcon_Expanded);
+        }
+    }
+
+    return pNewNode;
 }
 
 RegTreeCtrl::RegTreeCtrl(wxWindow *parent, wxWindowID id)
-           : wxTreeCtrl(parent, id, wxDefaultPosition, wxDefaultSize,
-                        wxTR_HAS_BUTTONS | wxTR_EDIT_LABELS | wxSUNKEN_BORDER)
+    : wxTreeCtrl(parent, id, wxDefaultPosition, wxDefaultSize,
+        wxTR_HAS_BUTTONS | wxTR_EDIT_LABELS | wxSUNKEN_BORDER)
 {
-  // init members
-  m_draggedItem = NULL;
-  m_restoreStatus = FALSE;
-
-  // create the image list
-  // ---------------------
-  m_imageList = new RegImageList;
-  SetImageList(m_imageList, wxIMAGE_LIST_NORMAL);
-
-  // create root keys
-  // ----------------
-  m_pRoot = InsertNewTreeNode(NULL, _T("Registry Root"), RegImageList::Root);
-
-  // create popup menu
-  // -----------------
-  m_pMenuPopup = CreateRegistryMenu();
+    // init members
+    m_draggedItem = NULL;
+    m_restoreStatus = false;
+
+    // create the image list
+    // ---------------------
+    m_imageList = new RegImageList;
+    SetImageList(m_imageList, wxIMAGE_LIST_NORMAL);
+
+    // create root keys
+    // ----------------
+    m_pRoot = InsertNewTreeNode(NULL, _T("Registry Root"), RegImageList::Root);
+
+    // create popup menu
+    // -----------------
+    m_pMenuPopup = CreateRegistryMenu();
 }
 
 RegTreeCtrl::~RegTreeCtrl()
 {
-  delete m_pMenuPopup;
-  // delete m_pRoot; -- this is done by the tree now
-  delete m_imageList;
+    delete m_pMenuPopup;
+    // delete m_pRoot; -- this is done by the tree now
+    delete m_imageList;
 }
 
 void RegTreeCtrl::AddStdKeys()
 {
-  for ( unsigned int ui = 0; ui < wxRegKey::nStdKeys; ui++ ) {
-    InsertNewTreeNode(m_pRoot, wxRegKey::GetStdKeyName(ui));
-  }
+    for ( unsigned int ui = 0; ui < wxRegKey::nStdKeys; ui++ )
+    {
+        InsertNewTreeNode(m_pRoot, wxRegKey::GetStdKeyName(ui));
+    }
 }
 
 // ----------------------------------------------------------------------------
@@ -546,129 +563,142 @@
 
 void RegTreeCtrl::OnIdle(wxIdleEvent& WXUNUSED(event))
 {
-    if ( m_restoreStatus ) {
+    if ( m_restoreStatus )
+    {
         // restore it after OnItemExpanding()
         wxLogStatus(wxT("Ok"));
         wxSetCursor(*wxSTANDARD_CURSOR);
 
-        m_restoreStatus = FALSE;
+        m_restoreStatus = false;
     }
 }
 
 void RegTreeCtrl::OnRightClick(wxMouseEvent& event)
 {
-  int iFlags;
-  long lId = HitTest(wxPoint(event.GetX(), event.GetY()), iFlags);
-  if ( iFlags & wxTREE_HITTEST_ONITEMLABEL ) {
-    // select the item first
-    SelectItem(lId);
-  }
-  //else: take the currently selected item if click not on item
+    int iFlags;
+    long lId = HitTest(wxPoint(event.GetX(), event.GetY()), iFlags);
+    if ( iFlags & wxTREE_HITTEST_ONITEMLABEL )
+    {
+        // select the item first
+        SelectItem(lId);
+    }
+    //else: take the currently selected item if click not on item
 
-  PopupMenu(m_pMenuPopup, event.GetX(), event.GetY());
+    PopupMenu(m_pMenuPopup, event.GetX(), event.GetY());
 }
 
 
-void RegTreeCtrl::OnDeleteItem(wxTreeEvent& event)
+void RegTreeCtrl::OnDeleteItem(wxTreeEvent& WXUNUSED(event))
 {
 }
 
 // test the key creation functions
 void RegTreeCtrl::OnMenuTest()
 {
-  long lId = GetSelection();
-  TreeNode *pNode = (TreeNode *)GetItemData(lId);
+    long lId = GetSelection();
+    TreeNode *pNode = (TreeNode *)GetItemData(lId);
 
-  wxCHECK_RET( pNode != NULL, wxT("tree item without data?") );
+    wxCHECK_RET( pNode != NULL, wxT("tree item without data?") );
 
-  if ( pNode->IsRoot() ) {
-    wxLogError(wxT("Can't create a subkey under the root key."));
-    return;
-  }
-  if ( !pNode->IsKey() ) {
-    wxLogError(wxT("Can't create a subkey under a value!"));
-    return;
-  }
-
-  wxRegKey key1(pNode->Key(), _T("key1"));
-  if ( key1.Create() ) {
-    wxRegKey key2a(key1, _T("key2a")), key2b(key1, _T("key2b"));
-    if ( key2a.Create() && key2b.Create() ) {
-      // put some values under the newly created keys
-      key1.SetValue(wxT("first_term"), _T("10"));
-      key1.SetValue(wxT("second_term"), _T("7"));
-      key2a = _T("this is the unnamed value");
-      key2b.SetValue(wxT("sum"), 17);
-
-      // refresh tree
-      pNode->Refresh();
-      wxLogStatus(wxT("Test keys successfully added."));
-      return;
+    if ( pNode->IsRoot() )
+    {
+        wxLogError(wxT("Can't create a subkey under the root key."));
+        return;
     }
-  }
+    if ( !pNode->IsKey() )
+    {
+        wxLogError(wxT("Can't create a subkey under a value!"));
+        return;
+    }
 
-  wxLogError(wxT("Creation of test keys failed."));
+    wxRegKey key1(pNode->Key(), _T("key1"));
+    if ( key1.Create() )
+    {
+        wxRegKey key2a(key1, _T("key2a")), key2b(key1, _T("key2b"));
+        if ( key2a.Create() && key2b.Create() )
+        {
+            // put some values under the newly created keys
+            key1.SetValue(wxT("first_term"), _T("10"));
+            key1.SetValue(wxT("second_term"), _T("7"));
+            key2a = _T("this is the unnamed value");
+            key2b.SetValue(wxT("sum"), 17);
+
+            // refresh tree
+            pNode->Refresh();
+            wxLogStatus(wxT("Test keys successfully added."));
+            return;
+        }
+    }
+
+    wxLogError(wxT("Creation of test keys failed."));
 }
 
 void RegTreeCtrl::OnChar(wxKeyEvent& event)
 {
-  switch ( event.KeyCode() )
-  {
-      case WXK_DELETE:
-          DeleteSelected();
-          return;
-
-      case WXK_RETURN:
-          if ( event.AltDown() )
-          {
-              ShowProperties();
-
-              return;
-          }
-  }
+    switch ( event.KeyCode() )
+    {
+        case WXK_DELETE:
+            DeleteSelected();
+            return;
+
+        case WXK_RETURN:
+            if ( event.AltDown() )
+            {
+                ShowProperties();
+
+                return;
+            }
+
+            break;
+    }
 
-  event.Skip();
+    event.Skip();
 }
 
 void RegTreeCtrl::OnSelChanged(wxTreeEvent& event)
 {
-  wxFrame *pFrame = (wxFrame *)(wxWindow::GetParent());
-  pFrame->SetStatusText(GetNode(event)->FullName(), 1);
+    wxFrame *pFrame = (wxFrame *)(wxWindow::GetParent());
+    pFrame->SetStatusText(GetNode(event)->FullName(), 1);
 }
 
 void RegTreeCtrl::OnItemExpanding(wxTreeEvent& event)
 {
-  TreeNode *pNode = GetNode(event);
-  bool bExpanding = event.GetKeyCode() == wxTREE_EXPAND_EXPAND;
+    TreeNode *pNode = GetNode(event);
+    bool bExpanding = event.GetKeyCode() == wxTREE_EXPAND_EXPAND;
 
-  // expansion might take some time
-  wxSetCursor(*wxHOURGLASS_CURSOR);
-  wxLogStatus(wxT("Working..."));
-  wxYield();  // to give the status line a chance to refresh itself
-  m_restoreStatus = TRUE;   // some time later...
-
-  if ( pNode->IsKey() ) {
-    if ( bExpanding ) {
-      // expanding: add subkeys/values
-      if ( !pNode->OnExpand() )
-        return;
-    }
-    else {
-      // collapsing: clean up
-      pNode->OnCollapse();
+    // expansion might take some time
+    wxSetCursor(*wxHOURGLASS_CURSOR);
+    wxLogStatus(wxT("Working..."));
+    wxYield();  // to give the status line a chance to refresh itself
+    m_restoreStatus = true;   // some time later...
+
+    if ( pNode->IsKey() )
+    {
+        if ( bExpanding )
+        {
+            // expanding: add subkeys/values
+            if ( !pNode->OnExpand() )
+                return;
+        }
+        else
+        {
+            // collapsing: clean up
+            pNode->OnCollapse();
+        }
     }
-  }
 }
 
 void RegTreeCtrl::OnBeginEdit(wxTreeEvent& event)
 {
     TreeNode *pNode = GetNode(event);
-    if ( pNode->IsRoot() || pNode->Parent()->IsRoot() ) {
+    if ( pNode->IsRoot() || pNode->Parent()->IsRoot() )
+    {
         wxLogStatus(_T("This registry key can't be renamed."));
 
         event.Veto();
     }
-    else {
+    else
+    {
         m_nameOld = pNode->m_strName;
     }
 }
@@ -693,12 +723,14 @@
         ok = key.RenameValue(m_nameOld, name);
     }
 
-    if ( !ok ) {
+    if ( !ok )
+    {
         wxLogError(_T("Failed to rename '%s' to '%s'."),
-                   m_nameOld.c_str(), name.c_str());
+            m_nameOld.c_str(), name.c_str());
     }
 #if 0   // MSW tree ctrl doesn't like this at all, it hangs
-    else {
+    else
+    {
         pNode->Refresh();
     }
 #endif // 0
@@ -736,19 +768,23 @@
 
     // where are we going to drop it?
     TreeNode *dst = GetNode(event);
-    if ( dst && !dst->IsKey() ) {
+    if ( dst && !dst->IsKey() )
+    {
         // we need a parent key
         dst = dst->Parent();
     }
-    if ( !dst || dst->IsRoot() ) {
+
+    if ( !dst || dst->IsRoot() )
+    {
         wxLogError(wxT("Can't create a key here."));
 
         return;
     }
 
     bool isKey = src->IsKey();
-    if ( (isKey && (src == dst)) ||
-         (!isKey && (dst->Parent() == src)) ) {
+    if ( (isKey && (src == dst))
+        || (!isKey && (dst->Parent() == src)) )
+    {
         wxLogStatus(wxT("Can't copy something on itself"));
 
         return;
@@ -772,44 +808,54 @@
                          nameDst.c_str()
                         ),
                       _T("RegTest Confirm"),
-                      wxICON_QUESTION | wxYES_NO | wxCANCEL, this) != wxYES ) {
+                      wxICON_QUESTION | wxYES_NO | wxCANCEL, this) != wxYES )
+    {
       return;
     }
 
     bool ok;
-    if ( isKey ) {
+    if ( isKey )
+    {
         wxRegKey& key = src->Key();
         wxRegKey keyDst(dst->Key(), src->m_strName);
-        ok = keyDst.Create(FALSE);
-        if ( !ok ) {
+        ok = keyDst.Create(false);
+        if ( !ok )
+        {
             wxLogError(wxT("Key '%s' already exists"), keyDst.GetName().c_str());
         }
-        else {
+        else
+        {
             ok = key.Copy(keyDst);
         }
 
-        if ( ok && !m_copyOnDrop ) {
+        if ( ok && !m_copyOnDrop )
+        {
             // delete the old key
             ok = key.DeleteSelf();
-            if ( ok ) {
+            if ( ok )
+            {
                 src->Parent()->Refresh();
             }
         }
     }
-    else { // value
+    else
+    { // value
         wxRegKey& key = src->Parent()->Key();
         ok = key.CopyValue(src->m_strName, dst->Key());
-        if ( ok && !m_copyOnDrop ) {
+        if ( ok && !m_copyOnDrop )
+        {
             // we moved it, so delete the old one
             ok = key.DeleteValue(src->m_strName);
         }
     }
 
-    if ( !ok ) {
+    if ( !ok )
+    {
         wxLogError(wxT("Failed to %s registry %s."),
                    verb.c_str(), what.c_str());
     }
-    else {
+    else
+    {
         dst->Refresh();
     }
 }
@@ -819,117 +865,128 @@
 // ----------------------------------------------------------------------------
 bool RegTreeCtrl::TreeNode::OnExpand()
 {
-  // we add children only once
-  if ( !m_aChildren.IsEmpty() ) {
-    // we've been already expanded
-    return TRUE;
-  }
-
-  if ( IsRoot() ) {
-    // we're the root key
-    m_pTree->AddStdKeys();
-    return TRUE;
-  }
-
-  if ( Parent()->IsRoot() ) {
-    // we're a standard key
-    m_pKey = new wxRegKey(m_strName);
-  }
-  else {
-    // we're a normal key
-    m_pKey = new wxRegKey(*(Parent()->m_pKey), m_strName);
-  }
-
-  if ( !m_pKey->Open() ) {
-    wxLogError(wxT("The key '%s' can't be opened."), FullName());
-    return FALSE;
-  }
-
-  // if we're empty, we shouldn't be expandable at all
-  bool isEmpty = TRUE;
-
-  // enumeration variables
-  long l;
-  wxString str;
-  bool bCont;
-
-  // enumerate all subkeys
-  bCont = m_pKey->GetFirstKey(str, l);
-  while ( bCont ) {
-    m_pTree->InsertNewTreeNode(this, str, RegImageList::ClosedKey);
-    bCont = m_pKey->GetNextKey(str, l);
-
-    // we have at least this key...
-    isEmpty = FALSE;
-  }
-
-  // enumerate all values
-  bCont = m_pKey->GetFirstValue(str, l);
-  while ( bCont ) {
-    wxString strItem;
-    if (str.IsEmpty())
-        strItem = _T("<default>");
+    // we add children only once
+    if ( !m_aChildren.IsEmpty() )
+    {
+        // we've been already expanded
+        return true;
+    }
+
+    if ( IsRoot() )
+    {
+        // we're the root key
+        m_pTree->AddStdKeys();
+        return true;
+    }
+
+    if ( Parent()->IsRoot() )
+    {
+        // we're a standard key
+        m_pKey = new wxRegKey(m_strName);
+    }
     else
-        strItem = str;
-    strItem += _T(" = ");
+    {
+        // we're a normal key
+        m_pKey = new wxRegKey(*(Parent()->m_pKey), m_strName);
+    }
 
-    // determine the appropriate icon
-    RegImageList::Icon icon;
-    switch ( m_pKey->GetValueType(str) ) {
-      case wxRegKey::Type_String:
-      case wxRegKey::Type_Expand_String:
-      case wxRegKey::Type_Multi_String:
-        {
-          wxString strValue;
-          icon = RegImageList::TextValue;
-          m_pKey->QueryValue(str, strValue);
-          strItem += strValue;
-        }
-        break;
+    if ( !m_pKey->Open() )
+    {
+        wxLogError(wxT("The key '%s' can't be opened."), FullName());
+        return false;
+    }
 
-      case wxRegKey::Type_None:
-        // @@ handle the error...
-        icon = RegImageList::BinaryValue;
-        break;
+    // if we're empty, we shouldn't be expandable at all
+    bool isEmpty = true;
 
-      case wxRegKey::Type_Dword:
-        {
-          long l;
-          m_pKey->QueryValue(str, &l);
-          strItem << l;
-        }
+    // enumeration variables
+    long l;
+    wxString str;
+    bool bCont;
 
-        // fall through
+    // enumerate all subkeys
+    bCont = m_pKey->GetFirstKey(str, l);
+    while ( bCont )
+    {
+        m_pTree->InsertNewTreeNode(this, str, RegImageList::ClosedKey);
+        bCont = m_pKey->GetNextKey(str, l);
 
-      default:
-        icon = RegImageList::BinaryValue;
+        // we have at least this key...
+        isEmpty = false;
     }
 
-    m_pTree->InsertNewTreeNode(this, str, icon, &strItem);
-    bCont = m_pKey->GetNextValue(str, l);
+    // enumerate all values
+    bCont = m_pKey->GetFirstValue(str, l);
+    while ( bCont )
+    {
+        wxString strItem;
+        if (str.IsEmpty())
+            strItem = _T("<default>");
+        else
+            strItem = str;
 
-    // we have at least this value...
-    isEmpty = FALSE;
-  }
+        strItem += _T(" = ");
 
-  if ( isEmpty ) {
-    // this is for the case when our last child was just deleted
-    wxTreeItemId theId(Id()); // Temp variable seems necessary for BC++
-    m_pTree->Collapse(theId);
+        // determine the appropriate icon
+        RegImageList::Icon icon;
+        switch ( m_pKey->GetValueType(str) )
+        {
+            case wxRegKey::Type_String:
+            case wxRegKey::Type_Expand_String:
+            case wxRegKey::Type_Multi_String:
+            {
+                wxString strValue;
+                icon = RegImageList::TextValue;
+                m_pKey->QueryValue(str, strValue);
+                strItem += strValue;
+                break;
+            }
+
+            case wxRegKey::Type_None:
+                // @@ handle the error...
+                icon = RegImageList::BinaryValue;
+                break;
+
+            case wxRegKey::Type_Dword:
+            {
+                long l;
+                m_pKey->QueryValue(str, &l);
+                strItem << l;
+            }
+
+            // fall through
+
+            default:
+                icon = RegImageList::BinaryValue;
+                break;
+        }
+
+        m_pTree->InsertNewTreeNode(this, str, icon, &strItem);
+        bCont = m_pKey->GetNextValue(str, l);
+
+        // we have at least this value...
+        isEmpty = false;
+    }
+
+    if ( isEmpty )
+    {
+        // this is for the case when our last child was just deleted
+        wxTreeItemId theId(Id()); // Temp variable seems necessary for BC++
+        m_pTree->Collapse(theId);
 
-    // we won't be expanded any more
-    m_pTree->SetItemHasChildren(theId, FALSE);
-  }
+        // we won't be expanded any more
+        m_pTree->SetItemHasChildren(theId, false);
+    }
 
-  return TRUE;
+    return true;
 }
 
 void RegTreeCtrl::TreeNode::OnCollapse()
 {
-  DestroyChildren();
+    DestroyChildren();
 
-  delete m_pKey;
-  m_pKey = NULL;
+    delete m_pKey;
+    m_pKey = NULL;
 }
 
 void RegTreeCtrl::TreeNode::Refresh()
@@ -944,7 +1001,8 @@
 
     OnCollapse();
     m_pTree->SetItemHasChildren(theId);
-    if ( wasExpanded ) {
+    if ( wasExpanded )
+    {
         m_pTree->Expand(theId);
         OnExpand();
     }
@@ -953,23 +1011,26 @@
 bool RegTreeCtrl::TreeNode::DeleteChild(TreeNode *child)
 {
     int index = m_aChildren.Index(child);
-    wxCHECK_MSG( index != wxNOT_FOUND, FALSE,
+    wxCHECK_MSG( index != wxNOT_FOUND, false,
                  wxT("our child in tree should be in m_aChildren") );
 
     m_aChildren.RemoveAt((size_t)index);
 
     bool ok;
-    if ( child->IsKey() ) {
+    if ( child->IsKey() )
+    {
         // must close key before deleting it
         child->OnCollapse();
 
         ok = Key().DeleteKey(child->m_strName);
     }
-    else {
+    else
+    {
         ok = Key().DeleteValue(child->m_strName);
     }
 
-    if ( ok ) {
+    if ( ok )
+    {
         wxTreeItemId theId(child->Id()); // Temp variable seems necessary for BC++
         m_pTree->Delete(theId);
 
@@ -981,39 +1042,42 @@
 
 void RegTreeCtrl::TreeNode::DestroyChildren()
 {
-  // destroy all children
-  size_t nCount = m_aChildren.GetCount();
-  for ( size_t n = 0; n < nCount; n++ ) {
-    long lId = m_aChildren[n]->Id();
-    // no, wxTreeCtrl will do it
-    //delete m_aChildren[n];
-    wxTreeItemId theId(lId); // Temp variable seems necessary for BC++
-    m_pTree->Delete(theId);
-  }
+    // destroy all children
+    size_t nCount = m_aChildren.GetCount();
+    for ( size_t n = 0; n < nCount; n++ )
+    {
+        long lId = m_aChildren[n]->Id();
+        // no, wxTreeCtrl will do it
+        //delete m_aChildren[n];
+        wxTreeItemId theId(lId); // Temp variable seems necessary for BC++
+        m_pTree->Delete(theId);
+    }
 
-  m_aChildren.Empty();
+    m_aChildren.Empty();
 }
 
 RegTreeCtrl::TreeNode::~TreeNode()
 {
-  delete m_pKey;
+    delete m_pKey;
 }
 
 const wxChar *RegTreeCtrl::TreeNode::FullName() const
 {
-  static wxString s_strName;
+    static wxString s_strName;
 
-  if ( IsRoot() ) {
-    return wxT("Registry Root");
-  }
-  else {
-    // our own registry key might not (yet) exist or we might be a value,
-    // so just use the parent's and concatenate
-    s_strName = Parent()->FullName();
-    s_strName << wxT('\\') << m_strName;
+    if ( IsRoot() )
+    {
+        return wxT("Registry Root");
+    }
+    else
+    {
+        // our own registry key might not (yet) exist or we might be a value,
+        // so just use the parent's and concatenate
+        s_strName = Parent()->FullName();
+        s_strName << wxT('\\') << m_strName;
 
-    return s_strName;
-  }
+        return s_strName;
+    }
 }
 
 // ----------------------------------------------------------------------------
@@ -1026,7 +1090,8 @@
 
     wxTreeItemId id = GetRootItem();
 
-    while ( tk.HasMoreTokens() ) {
+    while ( tk.HasMoreTokens() )
+    {
         wxString subkey = tk.GetNextToken();
 
         wxTreeItemId idCurrent = id;
@@ -1036,20 +1101,25 @@
         long dummy;
         id = GetFirstChild(idCurrent, dummy);
 
-        if ( idCurrent == GetRootItem() ) {
+        if ( idCurrent == GetRootItem() )
+        {
             // special case: we understand both HKCU and HKEY_CURRENT_USER here
-            for ( size_t key = 0; key < wxRegKey::nStdKeys; key++ ) {
+            for ( size_t key = 0; key < wxRegKey::nStdKeys; key++ )
+            {
                 if ( subkey == wxRegKey::GetStdKeyName(key) ||
-                     subkey == wxRegKey::GetStdKeyShortName(key) ) {
+                     subkey == wxRegKey::GetStdKeyShortName(key) )
+                {
                     break;
                 }
 
                 id = GetNextChild(idCurrent, dummy);
             }
         }
-        else {
+        else
+        {
             // enum all children
-            while ( id.IsOk() ) {
+            while ( id.IsOk() )
+            {
                 if ( subkey == ((TreeNode *)GetItemData(id))->m_strName )
                     break;
 
@@ -1057,7 +1127,8 @@
             }
         }
 
-        if ( !id.IsOk() ) {
+        if ( !id.IsOk() )
+        {
             wxLogError(_T("No such key '%s'."), location.c_str());
 
             return;
@@ -1070,97 +1141,104 @@
 
 void RegTreeCtrl::DeleteSelected()
 {
-  long lCurrent = GetSelection(),
-       lParent  = GetItemParent(lCurrent);
+    long lCurrent = GetSelection(),
+        lParent  = GetItemParent(lCurrent);
 
-  if ( lParent == 0 ) {
-    wxLogError(wxT("Can't delete root key."));
-    return;
-  }
-
-  TreeNode *pCurrent = (TreeNode *)GetItemData(lCurrent),
-           *pParent  = (TreeNode *)GetItemData(lParent);
-
-  wxCHECK_RET(pCurrent && pParent, wxT("either node or parent without data?"));
-
-  if ( pParent->IsRoot() ) {
-    wxLogError(wxT("Can't delete standard key."));
-    return;
-  }
+    if ( lParent == 0 )
+    {
+        wxLogError(wxT("Can't delete root key."));
+        return;
+    }
 
-  wxString what = pCurrent->IsKey() ? _T("key") : _T("value");
-  if ( wxMessageBox(wxString::Format
+    TreeNode *pCurrent = (TreeNode *)GetItemData(lCurrent),
+             *pParent  = (TreeNode *)GetItemData(lParent);
+
+    wxCHECK_RET(pCurrent && pParent, wxT("either node or parent without data?"));
+
+    if ( pParent->IsRoot() )
+    {
+        wxLogError(wxT("Can't delete standard key."));
+        return;
+    }
+
+    wxString what = pCurrent->IsKey() ? _T("key") : _T("value");
+    if ( wxMessageBox(wxString::Format
                     (
                       wxT("Do you really want to delete this %s?"),
                       what.c_str()
                     ),
                     _T("Confirmation"),
-                    wxICON_QUESTION | wxYES_NO | wxCANCEL, this) != wxYES ) {
-    return;
-  }
+                    wxICON_QUESTION | wxYES_NO | wxCANCEL, this) != wxYES )
+    {
+        return;
+    }
 
-  pParent->DeleteChild(pCurrent);
+    pParent->DeleteChild(pCurrent);
 }
 
 void RegTreeCtrl::CreateNewKey(const wxString& strName)
 {
-  long lCurrent = GetSelection();
-  TreeNode *pCurrent = (TreeNode *)GetItemData(lCurrent);
+    long lCurrent = GetSelection();
+    TreeNode *pCurrent = (TreeNode *)GetItemData(lCurrent);
 
-  wxCHECK_RET( pCurrent != NULL, wxT("node without data?") );
+    wxCHECK_RET( pCurrent != NULL, wxT("node without data?") );
 
-  wxASSERT( pCurrent->IsKey() );  // check must have been done before
+    wxASSERT( pCurrent->IsKey() );  // check must have been done before
 
-  if ( pCurrent->IsRoot() ) {
-    wxLogError(wxT("Can't create a new key under the root key."));
-    return;
-  }
+    if ( pCurrent->IsRoot() )
+    {
+        wxLogError(wxT("Can't create a new key under the root key."));
+        return;
+    }
+
+    wxRegKey key(pCurrent->Key(), strName);
 
-  wxRegKey key(pCurrent->Key(), strName);
-  if ( key.Create() )
-    pCurrent->Refresh();
+    if ( key.Create() )
+        pCurrent->Refresh();
 }
 
 void RegTreeCtrl::CreateNewTextValue(const wxString& strName)
 {
-  long lCurrent = GetSelection();
-  TreeNode *pCurrent = (TreeNode *)GetItemData(lCurrent);
+    long lCurrent = GetSelection();
+    TreeNode *pCurrent = (TreeNode *)GetItemData(lCurrent);
 
-  wxCHECK_RET( pCurrent != NULL, wxT("node without data?") );
+    wxCHECK_RET( pCurrent != NULL, wxT("node without data?") );
 
-  wxASSERT( pCurrent->IsKey() );  // check must have been done before
+    wxASSERT( pCurrent->IsKey() );  // check must have been done before
 
-  if ( pCurrent->IsRoot() ) {
-    wxLogError(wxT("Can't create a new value under the root key."));
-    return;
-  }
+    if ( pCurrent->IsRoot() )
+    {
+        wxLogError(wxT("Can't create a new value under the root key."));
+        return;
+    }
 
-  if ( pCurrent->Key().SetValue(strName, _T("")) )
-    pCurrent->Refresh();
+    if ( pCurrent->Key().SetValue(strName, wxEmptyString) )
+        pCurrent->Refresh();
 }
 
 void RegTreeCtrl::CreateNewBinaryValue(const wxString& strName)
 {
-  long lCurrent = GetSelection();
-  TreeNode *pCurrent = (TreeNode *)GetItemData(lCurrent);
+    long lCurrent = GetSelection();
+    TreeNode *pCurrent = (TreeNode *)GetItemData(lCurrent);
 
-  wxCHECK_RET( pCurrent != NULL, wxT("node without data?") );
+    wxCHECK_RET( pCurrent != NULL, wxT("node without data?") );
 
-  wxASSERT( pCurrent->IsKey() );  // check must have been done before
+    wxASSERT( pCurrent->IsKey() );  // check must have been done before
 
-  if ( pCurrent->IsRoot() ) {
-    wxLogError(wxT("Can't create a new value under the root key."));
-    return;
-  }
+    if ( pCurrent->IsRoot() )
+    {
+        wxLogError(wxT("Can't create a new value under the root key."));
+        return;
+    }
 
-  if ( pCurrent->Key().SetValue(strName, 0) )
-    pCurrent->Refresh();
+    if ( pCurrent->Key().SetValue(strName, 0) )
+        pCurrent->Refresh();
 }
 
 void RegTreeCtrl::ShowProperties()
 {
     long lCurrent = GetSelection();
-    TreeNode *pCurrent = (TreeNode *)GetItemData(lCurrent);
+    TreeNode *pCurrent = (TreeNode *) GetItemData(lCurrent);
 
     if ( !pCurrent || pCurrent->IsRoot() )
     {
@@ -1202,12 +1280,12 @@
 
 bool RegTreeCtrl::IsKeySelected() const
 {
-  long lCurrent = GetSelection();
-  TreeNode *pCurrent = (TreeNode *)GetItemData(lCurrent);
+    long lCurrent = GetSelection();
+    TreeNode *pCurrent = (TreeNode *)GetItemData(lCurrent);
 
-  wxCHECK( pCurrent != NULL, FALSE );
+    wxCHECK( pCurrent != NULL, false );
 
-  return pCurrent->IsKey();
+    return pCurrent->IsKey();
 }
 
 void RegTreeCtrl::Refresh()
Index: samples/typetest/typetest.cpp
===================================================================
RCS file: /pack/cvsroots/wxwindows/wxWindows/samples/typetest/typetest.cpp,v
retrieving revision 1.40
diff -u -r1.40 typetest.cpp
--- samples/typetest/typetest.cpp	2003/08/14 20:27:05	1.40
+++ samples/typetest/typetest.cpp	2003/10/24 11:36:14
@@ -108,14 +108,15 @@
     menu_bar->Append(test_menu, _T("&Tests"));
     frame->SetMenuBar(menu_bar);
 
-    m_textCtrl = new wxTextCtrl(frame, -1, _T(""), wxPoint(0, 0), wxDefaultSize, wxTE_MULTILINE);
+    m_textCtrl = new wxTextCtrl(frame, wxID_ANY, wxEmptyString,
+        wxDefaultPosition, wxDefaultSize, wxTE_MULTILINE);
 
     // Show the frame
-    frame->Show(TRUE);
+    frame->Show(true);
 
     SetTopWindow(frame);
 
-    return TRUE;
+    return true;
 }
 
 void MyApp::DoStreamDemo(wxCommandEvent& WXUNUSED(event))
@@ -958,7 +959,7 @@
             textCtrl << _T("MIME information about extension '") << ext << _T("'\n")
                      << _T("\tMIME type: ") << ( !type ? wxT("unknown")
                                                    : type.c_str() ) << '\n'
-                     << _T("\tDescription: ") << ( !desc ? wxT("") : desc.c_str() )
+                     << _T("\tDescription: ") << ( !desc ? wxEmptyString : desc.c_str() )
                         << '\n'
                      << _T("\tCommand to open: ") << ( !open ? wxT("no") : open.c_str() )
                         << '\n';
@@ -984,19 +985,19 @@
     wxString text;
 
     wxInt32 var = 0xF1F2F3F4;
-    text = _T("");
+    text = wxEmptyString;
     text.Printf( _T("Value of wxInt32 is now: %#x.\n\n"), var );
     textCtrl.WriteText( text );
 
-    text = _T("");
+    text = wxEmptyString;
     text.Printf( _T("Value of swapped wxInt32 is: %#x.\n\n"), wxINT32_SWAP_ALWAYS( var ) );
     textCtrl.WriteText( text );
 
-    text = _T("");
+    text = wxEmptyString;
     text.Printf( _T("Value of wxInt32 swapped on little endian is: %#x.\n\n"), wxINT32_SWAP_ON_LE( var ) );
     textCtrl.WriteText( text );
 
-    text = _T("");
+    text = wxEmptyString;
     text.Printf( _T("Value of wxInt32 swapped on big endian is: %#x.\n\n"), wxINT32_SWAP_ON_BE( var ) );
     textCtrl.WriteText( text );
 }
@@ -1024,10 +1025,8 @@
     long l = var1;
 
     // suppress compile warnings about unused variables
-    if ( l < v )
-    {
-        ;
-    }
+    wxUnusedVar(l);
+    wxUnusedVar(v);
 
     wxStringList stringList;
     stringList.Add(_T("one")); stringList.Add(_T("two")); stringList.Add(_T("three"));
@@ -1051,10 +1050,13 @@
     var1 = wxVariant(new wxFont(wxSystemSettings::GetFont(wxSYS_OEM_FIXED_FONT)));
     textCtrl << _T("var1 = (wxfont)\"");
     wxFont* font = wxGetVariantCast(var1,wxFont);
-    if (font) {
-    	textCtrl << font->GetNativeFontInfoDesc() << _T("\"\n");
-    } else {
-	textCtrl << _T("(null)\"\n");
+    if (font)
+    {
+        textCtrl << font->GetNativeFontInfoDesc() << _T("\"\n");
+    }
+    else
+    {
+        textCtrl << _T("(null)\"\n");
     }
 }
 
@@ -1065,21 +1067,21 @@
 
 // My frame constructor
 MyFrame::MyFrame(wxFrame *parent, const wxString& title,
-       const wxPoint& pos, const wxSize& size):
-  wxFrame(parent, -1, title, pos, size)
+    const wxPoint& pos, const wxSize& size)
+    : wxFrame(parent, wxID_ANY, title, pos, size)
 {}
 
 void MyFrame::OnQuit(wxCommandEvent& WXUNUSED(event) )
 {
-  Close(TRUE);
+    Close(true);
 }
 
 void MyFrame::OnAbout(wxCommandEvent& WXUNUSED(event) )
 {
-  wxMessageDialog dialog(this, _T("Tests various wxWindows types"),
-      _T("About Types"), wxYES_NO|wxCANCEL);
+    wxMessageDialog dialog(this, _T("Tests various wxWindows types"),
+        _T("About Types"), wxYES_NO|wxCANCEL);
 
-  dialog.ShowModal();
+    dialog.ShowModal();
 }
 
 
Index: samples/widgets/button.cpp
===================================================================
RCS file: /pack/cvsroots/wxwindows/wxWindows/samples/widgets/button.cpp,v
retrieving revision 1.10
diff -u -r1.10 button.cpp
--- samples/widgets/button.cpp	2003/07/31 13:59:28	1.10
+++ samples/widgets/button.cpp	2003/10/24 11:36:14
@@ -127,8 +127,8 @@
     EVT_BUTTON(ButtonPage_Reset, ButtonWidgetsPage::OnButtonReset)
     EVT_BUTTON(ButtonPage_ChangeLabel, ButtonWidgetsPage::OnButtonChangeLabel)
 
-    EVT_CHECKBOX(-1, ButtonWidgetsPage::OnCheckOrRadioBox)
-    EVT_RADIOBOX(-1, ButtonWidgetsPage::OnCheckOrRadioBox)
+    EVT_CHECKBOX(wxID_ANY, ButtonWidgetsPage::OnCheckOrRadioBox)
+    EVT_RADIOBOX(wxID_ANY, ButtonWidgetsPage::OnCheckOrRadioBox)
 END_EVENT_TABLE()
 
 // ============================================================================
@@ -159,7 +159,7 @@
     wxSizer *sizerTop = new wxBoxSizer(wxHORIZONTAL);
 
     // left pane
-    wxStaticBox *box = new wxStaticBox(this, -1, _T("&Set style"));
+    wxStaticBox *box = new wxStaticBox(this, wxID_ANY, _T("&Set style"));
 
     wxSizer *sizerLeft = new wxStaticBoxSizer(box, wxVERTICAL);
 
@@ -189,10 +189,10 @@
         _T("bottom"),
     };
 
-    m_radioHAlign = new wxRadioBox(this, -1, _T("&Horz alignment"),
+    m_radioHAlign = new wxRadioBox(this, wxID_ANY, _T("&Horz alignment"),
                                    wxDefaultPosition, wxDefaultSize,
                                    WXSIZEOF(halign), halign);
-    m_radioVAlign = new wxRadioBox(this, -1, _T("&Vert alignment"),
+    m_radioVAlign = new wxRadioBox(this, wxID_ANY, _T("&Vert alignment"),
                                    wxDefaultPosition, wxDefaultSize,
                                    WXSIZEOF(valign), valign);
 
@@ -205,12 +205,12 @@
     sizerLeft->Add(btn, 0, wxALIGN_CENTRE_HORIZONTAL | wxALL, 15);
 
     // middle pane
-    wxStaticBox *box2 = new wxStaticBox(this, -1, _T("&Operations"));
+    wxStaticBox *box2 = new wxStaticBox(this, wxID_ANY, _T("&Operations"));
     wxSizer *sizerMiddle = new wxStaticBoxSizer(box2, wxVERTICAL);
 
     wxSizer *sizerRow = CreateSizerWithTextAndButton(ButtonPage_ChangeLabel,
                                                      _T("Change label"),
-                                                     -1,
+                                                     wxID_ANY,
                                                      &m_textLabel);
 
     sizerMiddle->Add(sizerRow, 0, wxALL | wxGROW, 5);
@@ -232,7 +232,6 @@
     // final initializations
     Reset();
 
-    SetAutoLayout(TRUE);
     SetSizer(sizerTop);
 
     sizerTop->Fit(this);
@@ -248,9 +247,9 @@
 
 void ButtonWidgetsPage::Reset()
 {
-    m_chkFit->SetValue(TRUE);
-    m_chkImage->SetValue(FALSE);
-    m_chkDefault->SetValue(FALSE);
+    m_chkFit->SetValue(true);
+    m_chkImage->SetValue(false);
+    m_chkDefault->SetValue(false);
 
     m_radioHAlign->SetSelection(ButtonHAlign_Centre);
     m_radioVAlign->SetSelection(ButtonVAlign_Centre);
Index: samples/widgets/combobox.cpp
===================================================================
RCS file: /pack/cvsroots/wxwindows/wxWindows/samples/widgets/combobox.cpp,v
retrieving revision 1.13
diff -u -r1.13 combobox.cpp
--- samples/widgets/combobox.cpp	2003/07/31 13:59:28	1.13
+++ samples/widgets/combobox.cpp	2003/10/24 11:36:15
@@ -178,8 +178,8 @@
     EVT_TEXT(ComboPage_Combo, ComboboxWidgetsPage::OnComboText)
     EVT_TEXT_ENTER(ComboPage_Combo, ComboboxWidgetsPage::OnComboText)
 
-    EVT_CHECKBOX(-1, ComboboxWidgetsPage::OnCheckOrRadioBox)
-    EVT_RADIOBOX(-1, ComboboxWidgetsPage::OnCheckOrRadioBox)
+    EVT_CHECKBOX(wxID_ANY, ComboboxWidgetsPage::OnCheckOrRadioBox)
+    EVT_RADIOBOX(wxID_ANY, ComboboxWidgetsPage::OnCheckOrRadioBox)
 END_EVENT_TABLE()
 
 // ============================================================================
@@ -210,7 +210,7 @@
     wxSizer *sizerTop = new wxBoxSizer(wxHORIZONTAL);
 
     // left pane
-    wxStaticBox *box = new wxStaticBox(this, -1, _T("&Set style"));
+    wxStaticBox *box = new wxStaticBox(this, wxID_ANY, _T("&Set style"));
 
     // should be in sync with ComboKind_XXX values
     static const wxString kinds[] =
@@ -220,7 +220,7 @@
         _T("drop down"),
     };
 
-    m_radioKind = new wxRadioBox(this, -1, _T("Combobox &kind:"),
+    m_radioKind = new wxRadioBox(this, wxID_ANY, _T("Combobox &kind:"),
                                  wxDefaultPosition, wxDefaultSize,
                                  WXSIZEOF(kinds), kinds,
                                  1, wxRA_SPECIFY_COLS);
@@ -237,7 +237,8 @@
     sizerLeft->Add(btn, 0, wxALIGN_CENTRE_HORIZONTAL | wxALL, 15);
 
     // middle pane
-    wxStaticBox *box2 = new wxStaticBox(this, -1, _T("&Change combobox contents"));
+    wxStaticBox *box2 = new wxStaticBox(this, wxID_ANY,
+        _T("&Change combobox contents"));
     wxSizer *sizerMiddle = new wxStaticBoxSizer(box2, wxVERTICAL);
 
     wxSizer *sizerRow;
@@ -246,7 +247,7 @@
     sizerRow = CreateSizerWithTextAndLabel(_T("Current selection"),
                                            ComboPage_CurText,
                                            &text);
-    text->SetEditable(FALSE);
+    text->SetEditable(false);
 
     sizerMiddle->Add(sizerRow, 0, wxALL | wxGROW, 5);
 
@@ -288,7 +289,7 @@
 
     // right pane
     wxSizer *sizerRight = new wxBoxSizer(wxVERTICAL);
-    m_combobox = new wxComboBox(this, ComboPage_Combo, _T(""),
+    m_combobox = new wxComboBox(this, ComboPage_Combo, wxEmptyString,
                                 wxDefaultPosition, wxDefaultSize,
                                 0, NULL,
                                 0);
@@ -304,7 +305,6 @@
     // final initializations
     Reset();
 
-    SetAutoLayout(TRUE);
     SetSizer(sizerTop);
 
     sizerTop->Fit(this);
@@ -316,8 +316,8 @@
 
 void ComboboxWidgetsPage::Reset()
 {
-    m_chkSort->SetValue(FALSE);
-    m_chkReadonly->SetValue(FALSE);
+    m_chkSort->SetValue(false);
+    m_chkReadonly->SetValue(false);
 }
 
 void ComboboxWidgetsPage::CreateCombo()
@@ -360,7 +360,7 @@
         delete m_combobox;
     }
 
-    m_combobox = new wxComboBox(this, ComboPage_Combo, _T(""),
+    m_combobox = new wxComboBox(this, ComboPage_Combo, wxEmptyString,
                                 wxDefaultPosition, wxDefaultSize,
                                 0, NULL,
                                 flags);
Index: samples/widgets/gauge.cpp
===================================================================
RCS file: /pack/cvsroots/wxwindows/wxWindows/samples/widgets/gauge.cpp,v
retrieving revision 1.9
diff -u -r1.9 gauge.cpp
--- samples/widgets/gauge.cpp	2003/07/31 13:59:28	1.9
+++ samples/widgets/gauge.cpp	2003/10/24 11:36:15
@@ -144,8 +144,8 @@
 
     EVT_UPDATE_UI(GaugePage_CurValueText, GaugeWidgetsPage::OnUpdateUICurValueText)
 
-    EVT_CHECKBOX(-1, GaugeWidgetsPage::OnCheckOrRadioBox)
-    EVT_RADIOBOX(-1, GaugeWidgetsPage::OnCheckOrRadioBox)
+    EVT_CHECKBOX(wxID_ANY, GaugeWidgetsPage::OnCheckOrRadioBox)
+    EVT_RADIOBOX(wxID_ANY, GaugeWidgetsPage::OnCheckOrRadioBox)
 
     EVT_TIMER(GaugePage_Timer, GaugeWidgetsPage::OnProgressTimer)
 END_EVENT_TABLE()
@@ -176,7 +176,7 @@
     wxSizer *sizerTop = new wxBoxSizer(wxHORIZONTAL);
 
     // left pane
-    wxStaticBox *box = new wxStaticBox(this, -1, _T("&Set style"));
+    wxStaticBox *box = new wxStaticBox(this, wxID_ANY, _T("&Set style"));
 
     wxSizer *sizerLeft = new wxStaticBoxSizer(box, wxVERTICAL);
 
@@ -189,14 +189,15 @@
     sizerLeft->Add(btn, 0, wxALIGN_CENTRE_HORIZONTAL | wxALL, 15);
 
     // middle pane
-    wxStaticBox *box2 = new wxStaticBox(this, -1, _T("&Change gauge value"));
+    wxStaticBox *box2 = new wxStaticBox(this, wxID_ANY,
+        _T("&Change gauge value"));
     wxSizer *sizerMiddle = new wxStaticBoxSizer(box2, wxVERTICAL);
 
     wxTextCtrl *text;
     wxSizer *sizerRow = CreateSizerWithTextAndLabel(_T("Current value"),
                                                     GaugePage_CurValueText,
                                                     &text);
-    text->SetEditable(FALSE);
+    text->SetEditable(false);
 
     sizerMiddle->Add(sizerRow, 0, wxALL | wxGROW, 5);
 
@@ -234,7 +235,6 @@
     // final initializations
     Reset();
 
-    SetAutoLayout(TRUE);
     SetSizer(sizerTop);
 
     sizerTop->Fit(this);
@@ -251,8 +251,8 @@
 
 void GaugeWidgetsPage::Reset()
 {
-    m_chkVert->SetValue(FALSE);
-    m_chkSmooth->SetValue(FALSE);
+    m_chkVert->SetValue(false);
+    m_chkSmooth->SetValue(false);
 }
 
 void GaugeWidgetsPage::CreateGauge()
Index: samples/widgets/listbox.cpp
===================================================================
RCS file: /pack/cvsroots/wxwindows/wxWindows/samples/widgets/listbox.cpp,v
retrieving revision 1.10
diff -u -r1.10 listbox.cpp
--- samples/widgets/listbox.cpp	2003/07/31 13:59:28	1.10
+++ samples/widgets/listbox.cpp	2003/10/24 11:36:15
@@ -179,8 +179,8 @@
     EVT_LISTBOX_DCLICK(ListboxPage_Listbox, ListboxWidgetsPage::OnListboxDClick)
     EVT_CHECKLISTBOX(ListboxPage_Listbox, ListboxWidgetsPage::OnCheckListbox)
 
-    EVT_CHECKBOX(-1, ListboxWidgetsPage::OnCheckOrRadioBox)
-    EVT_RADIOBOX(-1, ListboxWidgetsPage::OnCheckOrRadioBox)
+    EVT_CHECKBOX(wxID_ANY, ListboxWidgetsPage::OnCheckOrRadioBox)
+    EVT_RADIOBOX(wxID_ANY, ListboxWidgetsPage::OnCheckOrRadioBox)
 END_EVENT_TABLE()
 
 // ============================================================================
@@ -215,7 +215,8 @@
     wxSizer *sizerTop = new wxBoxSizer(wxHORIZONTAL);
 
     // left pane
-    wxStaticBox *box = new wxStaticBox(this, -1, _T("&Set listbox parameters"));
+    wxStaticBox *box = new wxStaticBox(this, wxID_ANY,
+        _T("&Set listbox parameters"));
     wxSizer *sizerLeft = new wxStaticBoxSizer(box, wxVERTICAL);
 
     static const wxString modes[] =
@@ -225,7 +226,7 @@
         _T("multiple"),
     };
 
-    m_radioSelMode = new wxRadioBox(this, -1, _T("Selection &mode:"),
+    m_radioSelMode = new wxRadioBox(this, wxID_ANY, _T("Selection &mode:"),
                                     wxDefaultPosition, wxDefaultSize,
                                     WXSIZEOF(modes), modes,
                                     1, wxRA_SPECIFY_COLS);
@@ -250,7 +251,8 @@
     sizerLeft->Add(btn, 0, wxALIGN_CENTRE_HORIZONTAL | wxALL, 15);
 
     // middle pane
-    wxStaticBox *box2 = new wxStaticBox(this, -1, _T("&Change listbox contents"));
+    wxStaticBox *box2 = new wxStaticBox(this, wxID_ANY,
+        _T("&Change listbox contents"));
     wxSizer *sizerMiddle = new wxStaticBoxSizer(box2, wxVERTICAL);
 
     wxSizer *sizerRow = new wxBoxSizer(wxHORIZONTAL);
@@ -268,14 +270,14 @@
 
     sizerRow = new wxBoxSizer(wxHORIZONTAL);
     btn = new wxButton(this, ListboxPage_Change, _T("C&hange current"));
-    m_textChange = new wxTextCtrl(this, ListboxPage_ChangeText, _T(""));
+    m_textChange = new wxTextCtrl(this, ListboxPage_ChangeText, wxEmptyString);
     sizerRow->Add(btn, 0, wxRIGHT, 5);
     sizerRow->Add(m_textChange, 1, wxLEFT, 5);
     sizerMiddle->Add(sizerRow, 0, wxALL | wxGROW, 5);
 
     sizerRow = new wxBoxSizer(wxHORIZONTAL);
     btn = new wxButton(this, ListboxPage_Delete, _T("&Delete this item"));
-    m_textDelete = new wxTextCtrl(this, ListboxPage_DeleteText, _T(""));
+    m_textDelete = new wxTextCtrl(this, ListboxPage_DeleteText, wxEmptyString);
     sizerRow->Add(btn, 0, wxRIGHT, 5);
     sizerRow->Add(m_textDelete, 1, wxLEFT, 5);
     sizerMiddle->Add(sizerRow, 0, wxALL | wxGROW, 5);
@@ -304,7 +306,6 @@
     // final initializations
     Reset();
 
-    SetAutoLayout(TRUE);
     SetSizer(sizerTop);
 
     sizerTop->Fit(this);
@@ -317,10 +318,10 @@
 void ListboxWidgetsPage::Reset()
 {
     m_radioSelMode->SetSelection(LboxSel_Single);
-    m_chkSort->SetValue(FALSE);
-    m_chkCheck->SetValue(FALSE);
-    m_chkHScroll->SetValue(TRUE);
-    m_chkVScroll->SetValue(FALSE);
+    m_chkSort->SetValue(false);
+    m_chkCheck->SetValue(false);
+    m_chkHScroll->SetValue(true);
+    m_chkVScroll->SetValue(false);
 }
 
 void ListboxWidgetsPage::CreateLbox()
Index: samples/widgets/notebook.cpp
===================================================================
RCS file: /pack/cvsroots/wxwindows/wxWindows/samples/widgets/notebook.cpp,v
retrieving revision 1.10
diff -u -r1.10 notebook.cpp
--- samples/widgets/notebook.cpp	2003/08/24 15:27:21	1.10
+++ samples/widgets/notebook.cpp	2003/10/24 11:36:15
@@ -181,11 +181,11 @@
     EVT_UPDATE_UI(NotebookPage_InsertPage, NotebookWidgetsPage::OnUpdateUIInsertButton)
     EVT_UPDATE_UI(NotebookPage_RemovePage, NotebookWidgetsPage::OnUpdateUIRemoveButton)
 
-    EVT_NOTEBOOK_PAGE_CHANGING(-1, NotebookWidgetsPage::OnPageChanging)
-    EVT_NOTEBOOK_PAGE_CHANGED(-1, NotebookWidgetsPage::OnPageChanged)
+    EVT_NOTEBOOK_PAGE_CHANGING(wxID_ANY, NotebookWidgetsPage::OnPageChanging)
+    EVT_NOTEBOOK_PAGE_CHANGED(wxID_ANY, NotebookWidgetsPage::OnPageChanged)
 
-    EVT_CHECKBOX(-1, NotebookWidgetsPage::OnCheckOrRadioBox)
-    EVT_RADIOBOX(-1, NotebookWidgetsPage::OnCheckOrRadioBox)
+    EVT_CHECKBOX(wxID_ANY, NotebookWidgetsPage::OnCheckOrRadioBox)
+    EVT_RADIOBOX(wxID_ANY, NotebookWidgetsPage::OnCheckOrRadioBox)
 END_EVENT_TABLE()
 
 // ============================================================================
@@ -210,7 +210,7 @@
     wxSizer *sizerTop = new wxBoxSizer(wxHORIZONTAL);
 
     // left pane
-    wxStaticBox *box = new wxStaticBox(this, -1, _T("&Set style"));
+    wxStaticBox *box = new wxStaticBox(this, wxID_ANY, _T("&Set style"));
 
     // must be in sync with Orient enum
     wxString orientations[] =
@@ -224,8 +224,8 @@
     wxASSERT_MSG( WXSIZEOF(orientations) == Orient_Max,
                   _T("forgot to update something") );
 
-    m_chkImages = new wxCheckBox(this, -1, _T("Show &images"));
-    m_radioOrient = new wxRadioBox(this, -1, _T("&Tab orientation"),
+    m_chkImages = new wxCheckBox(this, wxID_ANY, _T("Show &images"));
+    m_radioOrient = new wxRadioBox(this, wxID_ANY, _T("&Tab orientation"),
                                    wxDefaultPosition, wxDefaultSize,
                                    WXSIZEOF(orientations), orientations,
                                    1, wxRA_SPECIFY_COLS);
@@ -240,20 +240,20 @@
     sizerLeft->Add(btn, 0, wxALIGN_CENTRE_HORIZONTAL | wxALL, 15);
 
     // middle pane
-    wxStaticBox *box2 = new wxStaticBox(this, -1, _T("&Contents"));
+    wxStaticBox *box2 = new wxStaticBox(this, wxID_ANY, _T("&Contents"));
     wxSizer *sizerMiddle = new wxStaticBoxSizer(box2, wxVERTICAL);
 
     wxTextCtrl *text;
     wxSizer *sizerRow = CreateSizerWithTextAndLabel(_T("Number of pages: "),
                                                     NotebookPage_NumPagesText,
                                                     &text);
-    text->SetEditable(FALSE);
+    text->SetEditable(false);
     sizerMiddle->Add(sizerRow, 0, wxALL | wxGROW, 5);
 
     sizerRow = CreateSizerWithTextAndLabel(_T("Current selection: "),
                                            NotebookPage_CurSelectText,
                                            &text);
-    text->SetEditable(FALSE);
+    text->SetEditable(false);
     sizerMiddle->Add(sizerRow, 0, wxALL | wxGROW, 5);
 
     sizerRow = CreateSizerWithTextAndButton(NotebookPage_SelectPage,
@@ -296,7 +296,6 @@
     Reset();
     CreateImageList();
 
-    SetAutoLayout(TRUE);
     SetSizer(sizerTop);
 
     sizerTop->Fit(this);
@@ -313,7 +312,7 @@
 
 void NotebookWidgetsPage::Reset()
 {
-    m_chkImages->SetValue(TRUE);
+    m_chkImages->SetValue(true);
     m_radioOrient->SetSelection(Orient_Top);
 }
 
@@ -393,7 +392,7 @@
         {
             m_notebook->AddPage(CreateNewPage(),
                                 notebook->GetPageText(n),
-                                FALSE,
+                                false,
                                 notebook->GetPageImage(n));
         }
 
@@ -440,7 +439,7 @@
 
 wxWindow *NotebookWidgetsPage::CreateNewPage()
 {
-    return new wxTextCtrl(m_notebook, -1, _T("I'm a notebook page"));
+    return new wxTextCtrl(m_notebook, wxID_ANY, _T("I'm a notebook page"));
 }
 
 // ----------------------------------------------------------------------------
@@ -469,7 +468,7 @@
 
 void NotebookWidgetsPage::OnButtonAddPage(wxCommandEvent& WXUNUSED(event))
 {
-    m_notebook->AddPage(CreateNewPage(), _T("Added page"), FALSE,
+    m_notebook->AddPage(CreateNewPage(), _T("Added page"), false,
                         GetIconIndex());
 }
 
@@ -478,7 +477,7 @@
     int pos = GetTextValue(m_textInsert);
     wxCHECK_RET( IsValidValue(pos), _T("button should be disabled") );
 
-    m_notebook->InsertPage(pos, CreateNewPage(), _T("Inserted page"), FALSE,
+    m_notebook->InsertPage(pos, CreateNewPage(), _T("Inserted page"), false,
                            GetIconIndex());
 }
 
Index: samples/widgets/radiobox.cpp
===================================================================
RCS file: /pack/cvsroots/wxwindows/wxWindows/samples/widgets/radiobox.cpp,v
retrieving revision 1.9
diff -u -r1.9 radiobox.cpp
--- samples/widgets/radiobox.cpp	2003/07/31 13:59:28	1.9
+++ samples/widgets/radiobox.cpp	2003/10/24 11:36:15
@@ -142,8 +142,8 @@
 
     EVT_RADIOBOX(RadioPage_Radio, RadioWidgetsPage::OnRadioBox)
 
-    EVT_CHECKBOX(-1, RadioWidgetsPage::OnCheckOrRadioBox)
-    EVT_RADIOBOX(-1, RadioWidgetsPage::OnCheckOrRadioBox)
+    EVT_CHECKBOX(wxID_ANY, RadioWidgetsPage::OnCheckOrRadioBox)
+    EVT_RADIOBOX(wxID_ANY, RadioWidgetsPage::OnCheckOrRadioBox)
 END_EVENT_TABLE()
 
 // ============================================================================
@@ -172,7 +172,7 @@
     wxSizer *sizerTop = new wxBoxSizer(wxHORIZONTAL);
 
     // left pane
-    wxStaticBox *box = new wxStaticBox(this, -1, _T("&Set style"));
+    wxStaticBox *box = new wxStaticBox(this, wxID_ANY, _T("&Set style"));
 
     wxSizer *sizerLeft = new wxStaticBoxSizer(box, wxVERTICAL);
 
@@ -185,7 +185,7 @@
         _T("top to bottom")
     };
 
-    m_radioDir = new wxRadioBox(this, -1, _T("Numbering:"),
+    m_radioDir = new wxRadioBox(this, wxID_ANY, _T("Numbering:"),
                                 wxDefaultPosition, wxDefaultSize,
                                 WXSIZEOF(layoutDir), layoutDir,
                                 1, wxRA_SPECIFY_COLS);
@@ -198,12 +198,12 @@
 
     wxSizer *sizerRow;
     sizerRow = CreateSizerWithTextAndLabel(_T("&Major dimension:"),
-                                           -1,
+                                           wxID_ANY,
                                            &m_textMajorDim);
     sizerLeft->Add(sizerRow, 0, wxGROW | wxALL, 5);
 
     sizerRow = CreateSizerWithTextAndLabel(_T("&Number of buttons:"),
-                                           -1,
+                                           wxID_ANY,
                                            &m_textNumBtns);
     sizerLeft->Add(sizerRow, 0, wxGROW | wxALL, 5);
 
@@ -217,29 +217,29 @@
     sizerLeft->Add(btn, 0, wxALIGN_CENTRE_HORIZONTAL | wxALL, 15);
 
     // middle pane
-    wxStaticBox *box2 = new wxStaticBox(this, -1, _T("&Change parameters"));
+    wxStaticBox *box2 = new wxStaticBox(this, wxID_ANY, _T("&Change parameters"));
     wxSizer *sizerMiddle = new wxStaticBoxSizer(box2, wxVERTICAL);
 
     sizerRow = CreateSizerWithTextAndLabel(_T("Current selection:"),
-                                           -1,
+                                           wxID_ANY,
                                            &m_textCurSel);
     sizerMiddle->Add(sizerRow, 0, wxGROW | wxALL, 5);
 
     sizerRow = CreateSizerWithTextAndButton(RadioPage_Selection,
                                             _T("&Change selection:"),
-                                           -1,
+                                           wxID_ANY,
                                            &m_textSel);
     sizerMiddle->Add(sizerRow, 0, wxGROW | wxALL, 5);
 
     sizerRow = CreateSizerWithTextAndButton(RadioPage_Label,
                                             _T("&Label for box:"),
-                                            -1,
+                                            wxID_ANY,
                                             &m_textLabel);
     sizerMiddle->Add(sizerRow, 0, wxGROW | wxALL, 5);
 
     sizerRow = CreateSizerWithTextAndButton(RadioPage_LabelBtn,
                                             _T("&Label for buttons:"),
-                                            -1,
+                                            wxID_ANY,
                                             &m_textLabelBtns);
     sizerMiddle->Add(sizerRow, 0, wxGROW | wxALL, 5);
 
@@ -257,7 +257,6 @@
     sizerTop->Add(sizerRight, 0, wxGROW | (wxALL & ~wxRIGHT), 10);
 
     // final initializations
-    SetAutoLayout(TRUE);
     SetSizer(sizerTop);
 
     sizerTop->Fit(this);
@@ -278,7 +277,7 @@
     m_textLabel->SetValue(_T("I'm a radiobox"));
     m_textLabelBtns->SetValue(_T("item"));
 
-    m_chkVert->SetValue(FALSE);
+    m_chkVert->SetValue(false);
     m_radioDir->SetSelection(RadioDir_Default);
 }
 
Index: samples/widgets/slider.cpp
===================================================================
RCS file: /pack/cvsroots/wxwindows/wxWindows/samples/widgets/slider.cpp,v
retrieving revision 1.15
diff -u -r1.15 slider.cpp
--- samples/widgets/slider.cpp	2003/07/31 13:59:28	1.15
+++ samples/widgets/slider.cpp	2003/10/24 11:36:15
@@ -185,8 +185,8 @@
 
     EVT_COMMAND_SCROLL(SliderPage_Slider, SliderWidgetsPage::OnSlider)
 
-    EVT_CHECKBOX(-1, SliderWidgetsPage::OnCheckOrRadioBox)
-    EVT_RADIOBOX(-1, SliderWidgetsPage::OnCheckOrRadioBox)
+    EVT_CHECKBOX(wxID_ANY, SliderWidgetsPage::OnCheckOrRadioBox)
+    EVT_RADIOBOX(wxID_ANY, SliderWidgetsPage::OnCheckOrRadioBox)
 END_EVENT_TABLE()
 
 // ============================================================================
@@ -218,7 +218,7 @@
     wxSizer *sizerTop = new wxBoxSizer(wxHORIZONTAL);
 
     // left pane
-    wxStaticBox *box = new wxStaticBox(this, -1, _T("&Set style"));
+    wxStaticBox *box = new wxStaticBox(this, wxID_ANY, _T("&Set style"));
     wxSizer *sizerLeft = new wxStaticBoxSizer(box, wxVERTICAL);
 
     m_chkVert = CreateCheckBoxAndAddToSizer(sizerLeft, _T("&Vertical"));
@@ -248,14 +248,14 @@
     sizerLeft->Add(btn, 0, wxALIGN_CENTRE_HORIZONTAL | wxALL, 15);
 
     // middle pane
-    wxStaticBox *box2 = new wxStaticBox(this, -1, _T("&Change slider value"));
+    wxStaticBox *box2 = new wxStaticBox(this, wxID_ANY, _T("&Change slider value"));
     wxSizer *sizerMiddle = new wxStaticBoxSizer(box2, wxVERTICAL);
 
     wxTextCtrl *text;
     wxSizer *sizerRow = CreateSizerWithTextAndLabel(_T("Current value"),
                                                     SliderPage_CurValueText,
                                                     &text);
-    text->SetEditable(FALSE);
+    text->SetEditable(false);
 
     sizerMiddle->Add(sizerRow, 0, wxALL | wxGROW, 5);
 
@@ -270,7 +270,7 @@
                                             SliderPage_MinText,
                                             &m_textMin);
 
-    m_textMax = new wxTextCtrl(this, SliderPage_MaxText, _T(""));
+    m_textMax = new wxTextCtrl(this, SliderPage_MaxText, wxEmptyString);
     sizerRow->Add(m_textMax, 1, wxLEFT | wxALIGN_CENTRE_VERTICAL, 5);
 
     m_textMin->SetValue( wxString::Format(_T("%d"), m_min) );
@@ -308,7 +308,6 @@
     sizerTop->Add(sizerRight, 1, wxGROW | (wxALL & ~wxRIGHT), 10);
 
     // final initializations
-    SetAutoLayout(TRUE);
     SetSizer(sizerTop);
 
     sizerTop->Fit(this);
@@ -324,10 +323,10 @@
 
 void SliderWidgetsPage::Reset()
 {
-    m_chkVert->SetValue(FALSE);
-    m_chkTicks->SetValue(TRUE);
-    m_chkLabels->SetValue(TRUE);
-    m_chkBothSides->SetValue(FALSE);
+    m_chkVert->SetValue(false);
+    m_chkTicks->SetValue(true);
+    m_chkLabels->SetValue(true);
+    m_chkBothSides->SetValue(false);
 
     m_radioSides->SetSelection(StaticSides_Top);
 }
@@ -556,7 +555,7 @@
 #if defined(__WIN95__) || defined(__WXUNIVERSAL__)
     event.Enable( m_chkTicks->GetValue() );
 #else
-    event.Enable( FALSE );
+    event.Enable( false );
 #endif // defined(__WIN95__) || defined(__WXUNIVERSAL__)
 }
 
Index: samples/widgets/spinbtn.cpp
===================================================================
RCS file: /pack/cvsroots/wxwindows/wxWindows/samples/widgets/spinbtn.cpp,v
retrieving revision 1.12
diff -u -r1.12 spinbtn.cpp
--- samples/widgets/spinbtn.cpp	2003/08/04 11:18:02	1.12
+++ samples/widgets/spinbtn.cpp	2003/10/24 11:36:15
@@ -152,8 +152,8 @@
     EVT_SPIN_DOWN(SpinBtnPage_SpinBtn, SpinBtnWidgetsPage::OnSpinBtnDown)
     EVT_SPINCTRL(SpinBtnPage_SpinCtrl, SpinBtnWidgetsPage::OnSpinCtrl)
 
-    EVT_CHECKBOX(-1, SpinBtnWidgetsPage::OnCheckOrRadioBox)
-    EVT_RADIOBOX(-1, SpinBtnWidgetsPage::OnCheckOrRadioBox)
+    EVT_CHECKBOX(wxID_ANY, SpinBtnWidgetsPage::OnCheckOrRadioBox)
+    EVT_RADIOBOX(wxID_ANY, SpinBtnWidgetsPage::OnCheckOrRadioBox)
 END_EVENT_TABLE()
 
 // ============================================================================
@@ -188,7 +188,7 @@
     wxSizer *sizerTop = new wxBoxSizer(wxHORIZONTAL);
 
     // left pane
-    wxStaticBox *box = new wxStaticBox(this, -1, _T("&Set style"));
+    wxStaticBox *box = new wxStaticBox(this, wxID_ANY, _T("&Set style"));
     wxSizer *sizerLeft = new wxStaticBoxSizer(box, wxVERTICAL);
 
     m_chkVert = CreateCheckBoxAndAddToSizer(sizerLeft, _T("&Vertical"));
@@ -200,14 +200,16 @@
     sizerLeft->Add(btn, 0, wxALIGN_CENTRE_HORIZONTAL | wxALL, 15);
 
     // middle pane
-    wxStaticBox *box2 = new wxStaticBox(this, -1, _T("&Change spinbtn value"));
+    wxStaticBox *box2 = new wxStaticBox(this, wxID_ANY,
+        _T("&Change spinbtn value"));
+
     wxSizer *sizerMiddle = new wxStaticBoxSizer(box2, wxVERTICAL);
 
     wxTextCtrl *text;
     wxSizer *sizerRow = CreateSizerWithTextAndLabel(_T("Current value"),
                                                     SpinBtnPage_CurValueText,
                                                     &text);
-    text->SetEditable(FALSE);
+    text->SetEditable(false);
 
     sizerMiddle->Add(sizerRow, 0, wxALL | wxGROW, 5);
 
@@ -222,7 +224,7 @@
                                             SpinBtnPage_MinText,
                                             &m_textMin);
 
-    m_textMax = new wxTextCtrl(this, SpinBtnPage_MaxText, _T(""));
+    m_textMax = new wxTextCtrl(this, SpinBtnPage_MaxText, wxEmptyString);
     sizerRow->Add(m_textMax, 1, wxLEFT | wxALIGN_CENTRE_VERTICAL, 5);
 
     m_textMin->SetValue( wxString::Format(_T("%d"), m_min) );
@@ -244,7 +246,6 @@
     sizerTop->Add(sizerRight, 1, wxGROW | (wxALL & ~wxRIGHT), 10);
 
     // final initializations
-    SetAutoLayout(TRUE);
     SetSizer(sizerTop);
 
     sizerTop->Fit(this);
@@ -260,8 +261,8 @@
 
 void SpinBtnWidgetsPage::Reset()
 {
-    m_chkVert->SetValue(TRUE);
-    m_chkWrap->SetValue(FALSE);
+    m_chkVert->SetValue(true);
+    m_chkWrap->SetValue(false);
 }
 
 void SpinBtnWidgetsPage::CreateSpin()
Index: samples/widgets/static.cpp
===================================================================
RCS file: /pack/cvsroots/wxwindows/wxWindows/samples/widgets/static.cpp,v
retrieving revision 1.9
diff -u -r1.9 static.cpp
--- samples/widgets/static.cpp	2003/07/31 13:59:28	1.9
+++ samples/widgets/static.cpp	2003/10/24 11:36:15
@@ -191,8 +191,8 @@
     EVT_BUTTON(StaticPage_LabelText, StaticWidgetsPage::OnButtonLabelText)
     EVT_BUTTON(StaticPage_BoxText, StaticWidgetsPage::OnButtonBoxText)
 
-    EVT_CHECKBOX(-1, StaticWidgetsPage::OnCheckOrRadioBox)
-    EVT_RADIOBOX(-1, StaticWidgetsPage::OnCheckOrRadioBox)
+    EVT_CHECKBOX(wxID_ANY, StaticWidgetsPage::OnCheckOrRadioBox)
+    EVT_RADIOBOX(wxID_ANY, StaticWidgetsPage::OnCheckOrRadioBox)
 END_EVENT_TABLE()
 
 // ============================================================================
@@ -224,7 +224,7 @@
     wxSizer *sizerTop = new wxBoxSizer(wxHORIZONTAL);
 
     // left pane
-    wxStaticBox *box = new wxStaticBox(this, -1, _T("&Set style"));
+    wxStaticBox *box = new wxStaticBox(this, wxID_ANY, _T("&Set style"));
 
     wxSizer *sizerLeft = new wxStaticBoxSizer(box, wxVERTICAL);
 
@@ -246,10 +246,10 @@
         _T("bottom"),
     };
 
-    m_radioHAlign = new wxRadioBox(this, -1, _T("&Horz alignment"),
+    m_radioHAlign = new wxRadioBox(this, wxID_ANY, _T("&Horz alignment"),
                                    wxDefaultPosition, wxDefaultSize,
                                    WXSIZEOF(halign), halign);
-    m_radioVAlign = new wxRadioBox(this, -1, _T("&Vert alignment"),
+    m_radioVAlign = new wxRadioBox(this, wxID_ANY, _T("&Vert alignment"),
                                    wxDefaultPosition, wxDefaultSize,
                                    WXSIZEOF(valign), valign);
 
@@ -260,19 +260,19 @@
     sizerLeft->Add(btn, 0, wxALIGN_CENTRE_HORIZONTAL | wxALL, 15);
 
     // middle pane
-    wxStaticBox *box2 = new wxStaticBox(this, -1, _T("&Change labels"));
+    wxStaticBox *box2 = new wxStaticBox(this, wxID_ANY, _T("&Change labels"));
     wxSizer *sizerMiddle = new wxStaticBoxSizer(box2, wxVERTICAL);
 
     wxSizer *sizerRow;
 
     sizerRow = CreateSizerWithTextAndButton(StaticPage_BoxText,
                                             _T("Change &box label"),
-                                            -1, &m_textBox);
+                                            wxID_ANY, &m_textBox);
     sizerMiddle->Add(sizerRow, 0, wxGROW | wxALL, 5);
 
     sizerRow = CreateSizerWithTextAndButton(StaticPage_LabelText,
                                             _T("Change &text label"),
-                                            -1, &m_textLabel);
+                                            wxID_ANY, &m_textLabel);
     sizerMiddle->Add(sizerRow, 0, wxGROW | wxALL, 5);
 
     m_textBox->SetValue(_T("This is a box"));
@@ -293,7 +293,6 @@
     // final initializations
     Reset();
 
-    SetAutoLayout(TRUE);
     SetSizer(sizerTop);
 
     sizerTop->Fit(this);
@@ -309,8 +308,8 @@
 
 void StaticWidgetsPage::Reset()
 {
-    m_chkVert->SetValue(FALSE);
-    m_chkAutoResize->SetValue(TRUE);
+    m_chkVert->SetValue(false);
+    m_chkAutoResize->SetValue(true);
 
     m_radioHAlign->SetSelection(StaticHAlign_Left);
     m_radioVAlign->SetSelection(StaticVAlign_Top);
@@ -379,17 +378,17 @@
     flagsText |= align;
     flagsBox |= align;
 
-    m_staticBox = new MyStaticBox(this, -1, m_textBox->GetValue(),
+    m_staticBox = new MyStaticBox(this, wxID_ANY, m_textBox->GetValue(),
                                   wxDefaultPosition, wxDefaultSize,
                                   flagsBox);
     m_sizerStatBox = new wxStaticBoxSizer(m_staticBox, isVert ? wxHORIZONTAL
                                                               : wxVERTICAL);
 
-    m_statText = new MyStaticText(this, -1, m_textLabel->GetValue(),
+    m_statText = new MyStaticText(this, wxID_ANY, m_textLabel->GetValue(),
                                   wxDefaultPosition, wxDefaultSize,
                                   flagsText);
 
-    m_statLine = new wxStaticLine(this, -1,
+    m_statLine = new wxStaticLine(this, wxID_ANY,
                                   wxDefaultPosition, wxDefaultSize,
                                   isVert ? wxLI_VERTICAL : wxLI_HORIZONTAL);
 
Index: samples/widgets/textctrl.cpp
===================================================================
RCS file: /pack/cvsroots/wxwindows/wxWindows/samples/widgets/textctrl.cpp,v
retrieving revision 1.12
diff -u -r1.12 textctrl.cpp
--- samples/widgets/textctrl.cpp	2003/10/04 00:19:35	1.12
+++ samples/widgets/textctrl.cpp	2003/10/24 11:36:15
@@ -96,9 +96,9 @@
 } DEFAULTS =
 {
     TextLines_Multi,    // multiline
-    FALSE,              // not password
-    TRUE,               // do wrap lines
-    FALSE,              // not readonly
+    false,              // not password
+    true,               // do wrap lines
+    false,              // not readonly
 #ifdef __WXMSW__
     TextKind_Plain      // plain EDIT control
 #endif // __WXMSW__
@@ -233,8 +233,8 @@
     EVT_TEXT(TextPage_Textctrl, TextWidgetsPage::OnText)
     EVT_TEXT_ENTER(TextPage_Textctrl, TextWidgetsPage::OnTextEnter)
 
-    EVT_CHECKBOX(-1, TextWidgetsPage::OnCheckOrRadioBox)
-    EVT_RADIOBOX(-1, TextWidgetsPage::OnCheckOrRadioBox)
+    EVT_CHECKBOX(wxID_ANY, TextWidgetsPage::OnCheckOrRadioBox)
+    EVT_RADIOBOX(wxID_ANY, TextWidgetsPage::OnCheckOrRadioBox)
 END_EVENT_TABLE()
 
 // ============================================================================
@@ -286,8 +286,8 @@
         _T("multi line"),
     };
 
-    wxStaticBox *box = new wxStaticBox(this, -1, _T("&Set textctrl parameters"));
-    m_radioTextLines = new wxRadioBox(this, -1, _T("&Number of lines:"),
+    wxStaticBox *box = new wxStaticBox(this, wxID_ANY, _T("&Set textctrl parameters"));
+    m_radioTextLines = new wxRadioBox(this, wxID_ANY, _T("&Number of lines:"),
                                       wxDefaultPosition, wxDefaultSize,
                                       WXSIZEOF(modes), modes,
                                       1, wxRA_SPECIFY_COLS);
@@ -315,7 +315,7 @@
         _T("rich edit 2.0"),
     };
 
-    m_radioKind = new wxRadioBox(this, -1, _T("Control &kind"),
+    m_radioKind = new wxRadioBox(this, wxID_ANY, _T("Control &kind"),
                                  wxDefaultPosition, wxDefaultSize,
                                  WXSIZEOF(kinds), kinds,
                                  1, wxRA_SPECIFY_COLS);
@@ -329,7 +329,7 @@
     sizerLeft->Add(btn, 0, wxALIGN_CENTRE_HORIZONTAL | wxALL, 15);
 
     // middle pane
-    wxStaticBox *box2 = new wxStaticBox(this, -1, _T("&Change contents:"));
+    wxStaticBox *box2 = new wxStaticBox(this, wxID_ANY, _T("&Change contents:"));
     wxSizer *sizerMiddleUp = new wxStaticBoxSizer(box2, wxVERTICAL);
 
     btn = new wxButton(this, TextPage_Set, _T("&Set text value"));
@@ -347,7 +347,7 @@
     btn = new wxButton(this, TextPage_Clear, _T("&Clear"));
     sizerMiddleUp->Add(btn, 0, wxALL | wxGROW, 1);
 
-    wxStaticBox *box4 = new wxStaticBox(this, -1, _T("&Info:"));
+    wxStaticBox *box4 = new wxStaticBox(this, wxID_ANY, _T("&Info:"));
     wxSizer *sizerMiddleDown = new wxStaticBoxSizer(box4, wxVERTICAL);
 
     m_textPosCur = CreateInfoText();
@@ -403,7 +403,7 @@
                         0, wxALL, 5
                      );
 
-    m_textRange = new wxTextCtrl(this, -1, _T(""),
+    m_textRange = new wxTextCtrl(this, wxID_ANY, wxEmptyString,
                                  wxDefaultPosition, wxDefaultSize,
                                  wxTE_READONLY);
     sizerMiddleDown->Add
@@ -421,7 +421,7 @@
     sizerMiddle->Add(sizerMiddleDown, 1, wxGROW | wxTOP, 5);
 
     // right pane
-    wxStaticBox *box3 = new wxStaticBox(this, -1, _T("&Text:"));
+    wxStaticBox *box3 = new wxStaticBox(this, wxID_ANY, _T("&Text:"));
     m_sizerText = new wxStaticBoxSizer(box3, wxHORIZONTAL);
     Reset();
     CreateText();
@@ -433,7 +433,6 @@
     sizerTop->Add(sizerMiddle, 0, wxGROW | wxALL, 10);
     sizerTop->Add(m_sizerText, 1, wxGROW | (wxALL & ~wxRIGHT), 10);
 
-    SetAutoLayout(TRUE);
     SetSizer(sizerTop);
 
     sizerTop->Fit(this);
@@ -456,7 +455,7 @@
         GetTextExtent(_T("9999999"), &s_maxWidth, NULL);
     }
 
-    wxTextCtrl *text = new wxTextCtrl(this, -1, _T(""),
+    wxTextCtrl *text = new wxTextCtrl(this, wxID_ANY, wxEmptyString,
                                       wxDefaultPosition,
                                       wxSize(s_maxWidth, -1),
                                       wxTE_READONLY);
@@ -469,12 +468,12 @@
                                                  wxTextCtrl *text2)
 {
     wxSizer *sizerRow = new wxBoxSizer(wxHORIZONTAL);
-    sizerRow->Add(new wxStaticText(this, -1, label), 0,
+    sizerRow->Add(new wxStaticText(this, wxID_ANY, label), 0,
                   wxALIGN_CENTRE_VERTICAL | wxRIGHT, 5);
     sizerRow->Add(text, 0, wxALIGN_CENTRE_VERTICAL);
     if ( text2 )
     {
-        sizerRow->Add(new wxStaticText(this, -1, label2), 0,
+        sizerRow->Add(new wxStaticText(this, wxID_ANY, label2), 0,
                       wxALIGN_CENTRE_VERTICAL | wxLEFT | wxRIGHT, 5);
         sizerRow->Add(text2, 0, wxALIGN_CENTRE_VERTICAL);
     }
@@ -510,7 +509,7 @@
 
         case TextLines_Multi:
             flags |= wxTE_MULTILINE;
-            m_chkPassword->SetValue(FALSE);
+            m_chkPassword->SetValue(false);
             break;
     }
 
@@ -747,10 +746,10 @@
     // small hack to suppress the very first message: by then the logging is
     // not yet redirected and so initial setting of the text value results in
     // an annoying message box
-    static bool s_firstTime = TRUE;
+    static bool s_firstTime = true;
     if ( s_firstTime )
     {
-        s_firstTime = FALSE;
+        s_firstTime = false;
         return;
     }
 
Index: samples/widgets/widgets.cpp
===================================================================
RCS file: /pack/cvsroots/wxwindows/wxWindows/samples/widgets/widgets.cpp,v
retrieving revision 1.15
diff -u -r1.15 widgets.cpp
--- samples/widgets/widgets.cpp	2003/10/23 21:38:31	1.15
+++ samples/widgets/widgets.cpp	2003/10/24 11:36:15
@@ -192,7 +192,7 @@
 bool WidgetsApp::OnInit()
 {
     if ( !wxApp::OnInit() )
-        return FALSE;
+        return false;
 
     // the reason for having these ifdef's is that I often run two copies of
     // this sample side by side and it is useful to see which one is which
@@ -220,7 +220,7 @@
     //wxLog::AddTraceMask(_T("scrollbar"));
     //wxLog::AddTraceMask(_T("focus"));
 
-    return TRUE;
+    return true;
 }
 
 // ----------------------------------------------------------------------------
@@ -228,7 +228,7 @@
 // ----------------------------------------------------------------------------
 
 WidgetsFrame::WidgetsFrame(const wxString& title)
-            : wxFrame(NULL, -1, title,
+            : wxFrame(NULL, wxID_ANY, title,
                       wxPoint(0, 50), wxDefaultSize,
                       wxDEFAULT_FRAME_STYLE |
                       wxNO_FULL_REPAINT_ON_RESIZE |
@@ -242,24 +242,25 @@
     m_imaglist = (wxImageList *)NULL;
 
     // create controls
-    m_panel = new wxPanel(this, -1, wxDefaultPosition, wxDefaultSize, wxCLIP_CHILDREN);
+    m_panel = new wxPanel(this, wxID_ANY,
+        wxDefaultPosition, wxDefaultSize, wxCLIP_CHILDREN);
 
     wxSizer *sizerTop = new wxBoxSizer(wxVERTICAL);
 
     // we have 2 panes: notebook which pages demonstrating the controls in the
     // upper one and the log window with some buttons in the lower
 
-    m_notebook = new wxNotebook(m_panel, -1, wxDefaultPosition, wxDefaultSize, wxNO_FULL_REPAINT_ON_RESIZE|wxCLIP_CHILDREN);
+    m_notebook = new wxNotebook(m_panel, wxID_ANY, wxDefaultPosition,
+        wxDefaultSize, wxNO_FULL_REPAINT_ON_RESIZE|wxCLIP_CHILDREN);
     InitNotebook();
     wxSizer *sizerUp = new wxNotebookSizer(m_notebook);
 
     // the lower one only has the log listbox and a button to clear it
-    wxSizer *sizerDown = new wxStaticBoxSizer
-                             (
-                               new wxStaticBox(m_panel, -1, _T("&Log window")),
-                               wxVERTICAL
-                             );
-    m_lboxLog = new wxListBox(m_panel, -1);
+    wxSizer *sizerDown = new wxStaticBoxSizer(
+        new wxStaticBox( m_panel, wxID_ANY, _T("&Log window") ),
+        wxVERTICAL);
+
+    m_lboxLog = new wxListBox(m_panel, wxID_ANY);
     sizerDown->Add(m_lboxLog, 1, wxGROW | wxALL, 5);
     sizerDown->SetMinSize(100, 150);
 
@@ -276,7 +277,6 @@
     sizerTop->Add(0, 5, 0, wxGROW); // spacer in between
     sizerTop->Add(sizerDown, 0,  wxGROW | (wxALL & ~wxTOP), 10);
 
-    m_panel->SetAutoLayout(TRUE);
     m_panel->SetSizer(sizerTop);
 
     sizerTop->Fit(this);
@@ -317,7 +317,7 @@
         m_notebook->AddPage(
                             pages[n],
                             labels[n],
-                            FALSE, // don't select
+                            false, // don't select
                             n // image id
                            );
     }
@@ -363,7 +363,7 @@
 // ----------------------------------------------------------------------------
 
 WidgetsPage::WidgetsPage(wxNotebook *notebook)
-           : wxPanel(notebook, -1,
+           : wxPanel(notebook, wxID_ANY,
                      wxDefaultPosition, wxDefaultSize,
                      wxNO_FULL_REPAINT_ON_RESIZE |
                      wxCLIP_CHILDREN |
@@ -376,7 +376,8 @@
                                           wxTextCtrl **ppText)
 {
     wxSizer *sizerRow = new wxBoxSizer(wxHORIZONTAL);
-    wxTextCtrl *text = new wxTextCtrl(this, id, _T(""), wxDefaultPosition, wxDefaultSize, wxTE_PROCESS_ENTER);
+    wxTextCtrl *text = new wxTextCtrl(this, id, wxEmptyString,
+        wxDefaultPosition, wxDefaultSize, wxTE_PROCESS_ENTER);
 
     sizerRow->Add(control, 0, wxRIGHT | wxALIGN_CENTRE_VERTICAL, 5);
     sizerRow->Add(text, 1, wxLEFT | wxALIGN_CENTRE_VERTICAL, 5);
@@ -392,7 +393,8 @@
                                                   wxWindowID id,
                                                   wxTextCtrl **ppText)
 {
-    return CreateSizerWithText(new wxStaticText(this, -1, label), id, ppText);
+    return CreateSizerWithText(new wxStaticText(this, wxID_ANY, label),
+        id, ppText);
 }
 
 // create a sizer containing a button and a text ctrl
Index: samples/widgets/widgets.h
===================================================================
RCS file: /pack/cvsroots/wxwindows/wxWindows/samples/widgets/widgets.h,v
retrieving revision 1.4
diff -u -r1.4 widgets.h
--- samples/widgets/widgets.h	2002/12/04 14:05:03	1.4
+++ samples/widgets/widgets.h	2003/10/24 11:36:15
@@ -40,24 +40,24 @@
     // (pointer to which will be saved in the provided variable if not NULL)
     // with the specified id
     wxSizer *CreateSizerWithText(wxControl *control,
-                                 wxWindowID id = -1,
+                                 wxWindowID id = wxID_ANY,
                                  wxTextCtrl **ppText = NULL);
 
     // create a sizer containing a label and a text ctrl
     wxSizer *CreateSizerWithTextAndLabel(const wxString& label,
-                                         wxWindowID id = -1,
+                                         wxWindowID id = wxID_ANY,
                                          wxTextCtrl **ppText = NULL);
 
     // create a sizer containing a button and a text ctrl
     wxSizer *CreateSizerWithTextAndButton(wxWindowID idBtn,
                                           const wxString& labelBtn,
-                                          wxWindowID id = -1,
+                                          wxWindowID id = wxID_ANY,
                                           wxTextCtrl **ppText = NULL);
 
     // create a checkbox and add it to the sizer
     wxCheckBox *CreateCheckBoxAndAddToSizer(wxSizer *sizer,
                                             const wxString& label,
-                                            wxWindowID id = -1);
+                                            wxWindowID id = wxID_ANY);
 
 public:
     // the head of the linked list containinginfo about all pages

 	  	 
